<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote of the Day - GPT Ideas Hub</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        .content-section h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .content-section p {
            line-height: 1.8;
            margin-bottom: 16px;
            color: var(--text-secondary);
        }
        
        .quote-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .daily-quote-section {
            background: white;
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .daily-quote-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--bg-tertiary) 0%, white 100%);
            opacity: 0.1;
        }
        
        .quote-content {
            position: relative;
            z-index: 2;
        }
        
        .quote-text {
            font-size: 2rem;
            font-weight: 400;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.6;
            font-style: italic;
            position: relative;
            padding: 0 40px;
        }
        
        .quote-text::before {
            content: '"';
            font-size: 4rem;
            color: var(--primary-color);
            position: absolute;
            top: -20px;
            left: 0;
            opacity: 0.3;
        }
        
        .quote-text::after {
            content: '"';
            font-size: 4rem;
            color: var(--primary-color);
            position: absolute;
            bottom: -40px;
            right: 0;
            opacity: 0.3;
        }
        
        .quote-author {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .quote-category {
            display: inline-block;
            padding: 6px 16px;
            background: var(--primary-color);
            color: white;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 20px;
        }
        
        .quote-date {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-bottom: 30px;
        }
        
        .quote-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .quote-btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .new-quote-btn {
            background: var(--primary-color);
            color: white;
        }
        
        .new-quote-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .favorite-btn {
            background: var(--warning-color);
            color: white;
        }
        
        .favorite-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .favorite-btn.favorited {
            background: #dc3545;
        }
        
        .favorite-btn.favorited:hover {
            background: #c82333;
        }
        
        .share-btn {
            background: var(--info-color);
            color: white;
        }
        
        .share-btn:hover {
            background: #0c7a8a;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .quote-categories {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .category-card {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }
        
        .category-card.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .category-card i {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .category-card.active i {
            color: white;
        }
        
        .category-card h3 {
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .category-card p {
            font-size: 0.9rem;
            opacity: 0.8;
            margin: 0;
        }
        
        .favorites-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .favorite-quote {
            background: var(--bg-tertiary);
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            border-left: 4px solid var(--warning-color);
        }
        
        .favorite-quote:last-child {
            margin-bottom: 0;
        }
        
        .favorite-quote-text {
            font-size: 1.2rem;
            font-style: italic;
            color: var(--text-primary);
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .favorite-quote-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .favorite-quote-info {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        .favorite-quote-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }
        
        .share-favorite-btn {
            background: var(--info-color);
            color: white;
        }
        
        .share-favorite-btn:hover {
            background: #0c7a8a;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .remove-favorite-btn {
            background: var(--danger-color);
            color: white;
        }
        
        .remove-favorite-btn:hover {
            background: #c82333;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .stats-section {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            text-align: center;
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: var(--border-radius);
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .export-section {
            text-align: center;
            margin-top: 30px;
        }
        
        .export-btn {
            background: var(--info-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
            transition: var(--transition);
        }
        
        .export-btn:hover {
            background: #0c7a8a;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .empty-state i {
            font-size: 3rem;
            color: var(--text-muted);
            margin-bottom: 15px;
        }
        
        .empty-state h3 {
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .loading {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .loading i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            color: white;
            font-weight: 500;
            z-index: 1001;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: #28a745;
        }
        
        .notification.error {
            background: #dc3545;
        }
        
        @media (max-width: 768px) {
            .quote-text {
                font-size: 1.5rem;
                padding: 0 20px;
            }
            
            .quote-text::before,
            .quote-text::after {
                font-size: 3rem;
            }
            
            .quote-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .quote-btn {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }
            
            .category-grid {
                grid-template-columns: 1fr;
            }
            
            .favorite-quote-meta {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="individual-page">
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
        Back to Hub
    </a>
    
    <div class="page-content">
        <div class="page-header">
            <div class="page-header-content">
                <h1 class="page-title">ðŸ’­ Quote of the Day</h1>
                <div class="page-meta">
                    <span class="page-category-badge">Inspiration & Wisdom</span>
                    <span class="page-number-badge">Page 87</span>
                </div>
                <p style="margin-top: 16px; font-size: 1.1rem; opacity: 0.9;">Discover daily inspiration with carefully curated quotes from great minds</p>
            </div>
        </div>
        
        <div class="quote-container">
            <!-- Daily Quote Section -->
            <div class="daily-quote-section">
                <div class="quote-content">
                    <div class="quote-text" id="quoteText">
                        Click "New Quote" to get started with your daily inspiration
                    </div>
                    <div class="quote-author" id="quoteAuthor">- GPT Ideas Hub</div>
                    <div class="quote-category" id="quoteCategory">Inspiration</div>
                    <div class="quote-date" id="quoteDate">Today</div>
                    
                    <div class="quote-actions">
                        <button class="quote-btn new-quote-btn" onclick="getNewQuote()">
                            <i class="fas fa-sync-alt"></i> New Quote
                        </button>
                        <button class="quote-btn favorite-btn" id="favoriteBtn" onclick="toggleFavorite()" style="display: none;">
                            <i class="fas fa-heart"></i> Favorite
                        </button>
                        <button class="quote-btn share-btn" onclick="shareQuote()" style="display: none;">
                            <i class="fas fa-share"></i> Share
                        </button>
                    </div>
                </div>
            </div>

            <!-- Quote Categories -->
            <div class="quote-categories">
                <h2><i class="fas fa-tags"></i> Quote Categories</h2>
                <p>Choose a category to get quotes that match your mood or interests</p>
                
                <div class="category-grid">
                    <div class="category-card" data-category="inspiration" onclick="selectCategory('inspiration')">
                        <i class="fas fa-lightbulb"></i>
                        <h3>Inspiration</h3>
                        <p>Motivational and uplifting quotes</p>
                    </div>
                    <div class="category-card" data-category="wisdom" onclick="selectCategory('wisdom')">
                        <i class="fas fa-brain"></i>
                        <h3>Wisdom</h3>
                        <p>Deep insights and life lessons</p>
                    </div>
                    <div class="category-card" data-category="success" onclick="selectCategory('success')">
                        <i class="fas fa-trophy"></i>
                        <h3>Success</h3>
                        <p>Quotes about achievement and growth</p>
                    </div>
                    <div class="category-card" data-category="love" onclick="selectCategory('love')">
                        <i class="fas fa-heart"></i>
                        <h3>Love</h3>
                        <p>Quotes about love and relationships</p>
                    </div>
                    <div class="category-card" data-category="creativity" onclick="selectCategory('creativity')">
                        <i class="fas fa-palette"></i>
                        <h3>Creativity</h3>
                        <p>Artistic and innovative thinking</p>
                    </div>
                    <div class="category-card" data-category="philosophy" onclick="selectCategory('philosophy')">
                        <i class="fas fa-compass"></i>
                        <h3>Philosophy</h3>
                        <p>Deep philosophical thoughts</p>
                    </div>
                    <div class="category-card" data-category="nature" onclick="selectCategory('nature')">
                        <i class="fas fa-leaf"></i>
                        <h3>Nature</h3>
                        <p>Quotes about the natural world</p>
                    </div>
                    <div class="category-card" data-category="random" onclick="selectCategory('random')">
                        <i class="fas fa-random"></i>
                        <h3>Random</h3>
                        <p>Mixed quotes from all categories</p>
                    </div>
                </div>
            </div>

            <!-- Favorites Section -->
            <div class="favorites-section" id="favoritesSection" style="display: none;">
                <h2><i class="fas fa-heart"></i> Your Favorite Quotes</h2>
                <div id="favoritesList">
                    <!-- Favorite quotes will be displayed here -->
                </div>
            </div>

            <!-- Statistics -->
            <div class="stats-section">
                <h2><i class="fas fa-chart-bar"></i> Quote Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalQuotes">0</div>
                        <div class="stat-label">Quotes Viewed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="favoriteQuotes">0</div>
                        <div class="stat-label">Favorite Quotes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="categoriesExplored">0</div>
                        <div class="stat-label">Categories Explored</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="lastViewed">Never</div>
                        <div class="stat-label">Last Viewed</div>
                    </div>
                </div>
            </div>

            <!-- Export Section -->
            <div class="export-section">
                <button class="export-btn" onclick="exportFavorites()">
                    <i class="fas fa-download"></i> Export Favorites
                </button>
                <button class="export-btn" onclick="exportQuoteHistory()">
                    <i class="fas fa-history"></i> Export Quote History
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentQuote = null;
        let favoriteQuotes = [];
        let quoteHistory = [];
        let selectedCategory = 'random';
        let stats = {
            totalQuotes: 0,
            favoriteQuotes: 0,
            categoriesExplored: 0,
            lastViewed: 'Never'
        };

        // Quote database
        const quotesDatabase = {
            inspiration: [
                {
                    text: "The only way to do great work is to love what you do.",
                    author: "Steve Jobs",
                    category: "inspiration"
                },
                {
                    text: "Believe you can and you're halfway there.",
                    author: "Theodore Roosevelt",
                    category: "inspiration"
                },
                {
                    text: "The future belongs to those who believe in the beauty of their dreams.",
                    author: "Eleanor Roosevelt",
                    category: "inspiration"
                },
                {
                    text: "Success is not final, failure is not fatal: it is the courage to continue that counts.",
                    author: "Winston Churchill",
                    category: "inspiration"
                },
                {
                    text: "The only limit to our realization of tomorrow is our doubts of today.",
                    author: "Franklin D. Roosevelt",
                    category: "inspiration"
                }
            ],
            wisdom: [
                {
                    text: "The unexamined life is not worth living.",
                    author: "Socrates",
                    category: "wisdom"
                },
                {
                    text: "Wisdom begins in wonder.",
                    author: "Socrates",
                    category: "wisdom"
                },
                {
                    text: "The more I learn, the more I realize how much I don't know.",
                    author: "Albert Einstein",
                    category: "wisdom"
                },
                {
                    text: "Knowledge speaks, but wisdom listens.",
                    author: "Jimi Hendrix",
                    category: "wisdom"
                },
                {
                    text: "The greatest wisdom is kindness.",
                    author: "The Talmud",
                    category: "wisdom"
                }
            ],
            success: [
                {
                    text: "Success is walking from failure to failure with no loss of enthusiasm.",
                    author: "Winston Churchill",
                    category: "success"
                },
                {
                    text: "The road to success and the road to failure are almost exactly the same.",
                    author: "Colin Davis",
                    category: "success"
                },
                {
                    text: "Success is not the key to happiness. Happiness is the key to success.",
                    author: "Herman Cain",
                    category: "success"
                },
                {
                    text: "Don't watch the clock; do what it does. Keep going.",
                    author: "Sam Levenson",
                    category: "success"
                },
                {
                    text: "The only place where success comes before work is in the dictionary.",
                    author: "Vidal Sassoon",
                    category: "success"
                }
            ],
            love: [
                {
                    text: "Love is composed of a single soul inhabiting two bodies.",
                    author: "Aristotle",
                    category: "love"
                },
                {
                    text: "The best thing to hold onto in life is each other.",
                    author: "Audrey Hepburn",
                    category: "love"
                },
                {
                    text: "Love is not about how many days, months, or years you have been together. Love is about how much you love each other every single day.",
                    author: "Anonymous",
                    category: "love"
                },
                {
                    text: "To love and be loved is to feel the sun from both sides.",
                    author: "David Viscott",
                    category: "love"
                },
                {
                    text: "Love is the greatest refreshment in life.",
                    author: "Pablo Picasso",
                    category: "love"
                }
            ],
            creativity: [
                {
                    text: "Creativity is intelligence having fun.",
                    author: "Albert Einstein",
                    category: "creativity"
                },
                {
                    text: "The creative adult is the child who survived.",
                    author: "Ursula K. Le Guin",
                    category: "creativity"
                },
                {
                    text: "Creativity takes courage.",
                    author: "Henri Matisse",
                    category: "creativity"
                },
                {
                    text: "Art is not what you see, but what you make others see.",
                    author: "Edgar Degas",
                    category: "creativity"
                },
                {
                    text: "The world is but a canvas to the imagination.",
                    author: "Henry David Thoreau",
                    category: "creativity"
                }
            ],
            philosophy: [
                {
                    text: "Philosophy is the love of wisdom.",
                    author: "Plato",
                    category: "philosophy"
                },
                {
                    text: "The only true wisdom is in knowing you know nothing.",
                    author: "Socrates",
                    category: "philosophy"
                },
                {
                    text: "Happiness is not something ready-made. It comes from your own actions.",
                    author: "Dalai Lama",
                    category: "philosophy"
                },
                {
                    text: "Life is what happens when you're busy making other plans.",
                    author: "John Lennon",
                    category: "philosophy"
                },
                {
                    text: "The purpose of our lives is to be happy.",
                    author: "Dalai Lama",
                    category: "philosophy"
                }
            ],
            nature: [
                {
                    text: "In every walk with nature one receives far more than he seeks.",
                    author: "John Muir",
                    category: "nature"
                },
                {
                    text: "Nature does not hurry, yet everything is accomplished.",
                    author: "Lao Tzu",
                    category: "nature"
                },
                {
                    text: "The earth has music for those who listen.",
                    author: "George Santayana",
                    category: "nature"
                },
                {
                    text: "Look deep into nature, and then you will understand everything better.",
                    author: "Albert Einstein",
                    category: "nature"
                },
                {
                    text: "Nature is not a place to visit. It is home.",
                    author: "Gary Snyder",
                    category: "nature"
                }
            ]
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateStats();
            renderFavorites();
            getNewQuote();
        });

        // Get New Quote
        function getNewQuote() {
            let quotes = [];
            
            if (selectedCategory === 'random') {
                // Get quotes from all categories
                Object.values(quotesDatabase).forEach(categoryQuotes => {
                    quotes = quotes.concat(categoryQuotes);
                });
            } else {
                quotes = quotesDatabase[selectedCategory] || [];
            }
            
            if (quotes.length === 0) {
                showNotification('No quotes available for this category.', 'error');
                return;
            }
            
            // Get random quote
            const randomIndex = Math.floor(Math.random() * quotes.length);
            currentQuote = quotes[randomIndex];
            
            // Display quote
            document.getElementById('quoteText').textContent = currentQuote.text;
            document.getElementById('quoteAuthor').textContent = `- ${currentQuote.author}`;
            document.getElementById('quoteCategory').textContent = currentQuote.category.charAt(0).toUpperCase() + currentQuote.category.slice(1);
            document.getElementById('quoteDate').textContent = new Date().toLocaleDateString();
            
            // Show action buttons
            document.getElementById('favoriteBtn').style.display = 'inline-flex';
            document.getElementById('shareBtn').style.display = 'inline-flex';
            
            // Update favorite button state
            updateFavoriteButton();
            
            // Add to history
            addToHistory(currentQuote);
            
            // Update stats
            stats.totalQuotes++;
            stats.lastViewed = new Date().toLocaleDateString();
            updateStats();
            saveData();
        }

        // Select Category
        function selectCategory(category) {
            selectedCategory = category;
            
            // Update active category
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            // Get new quote from selected category
            getNewQuote();
            
            // Update stats
            if (!stats.categoriesExplored.includes(category)) {
                stats.categoriesExplored++;
                updateStats();
                saveData();
            }
        }

        // Toggle Favorite
        function toggleFavorite() {
            if (!currentQuote) return;
            
            const quoteId = `${currentQuote.text}-${currentQuote.author}`;
            const favoriteIndex = favoriteQuotes.findIndex(f => f.id === quoteId);
            
            if (favoriteIndex === -1) {
                // Add to favorites
                const favoriteQuote = {
                    ...currentQuote,
                    id: quoteId,
                    dateAdded: new Date().toISOString()
                };
                favoriteQuotes.push(favoriteQuote);
                showNotification('Quote added to favorites!', 'success');
            } else {
                // Remove from favorites
                favoriteQuotes.splice(favoriteIndex, 1);
                showNotification('Quote removed from favorites!', 'success');
            }
            
            updateFavoriteButton();
            updateStats();
            renderFavorites();
            saveData();
        }

        // Update Favorite Button
        function updateFavoriteButton() {
            if (!currentQuote) return;
            
            const quoteId = `${currentQuote.text}-${currentQuote.author}`;
            const isFavorited = favoriteQuotes.some(f => f.id === quoteId);
            const favoriteBtn = document.getElementById('favoriteBtn');
            
            if (isFavorited) {
                favoriteBtn.classList.add('favorited');
                favoriteBtn.innerHTML = '<i class="fas fa-heart"></i> Favorited';
            } else {
                favoriteBtn.classList.remove('favorited');
                favoriteBtn.innerHTML = '<i class="fas fa-heart"></i> Favorite';
            }
        }

        // Share Quote
        function shareQuote() {
            if (!currentQuote) return;
            
            const shareText = `"${currentQuote.text}" - ${currentQuote.author}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Quote of the Day',
                    text: shareText
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    showNotification('Quote copied to clipboard!', 'success');
                }).catch(() => {
                    showNotification('Failed to copy quote.', 'error');
                });
            }
        }

        // Add to History
        function addToHistory(quote) {
            const quoteId = `${quote.text}-${quote.author}`;
            const existingIndex = quoteHistory.findIndex(h => h.id === quoteId);
            
            if (existingIndex !== -1) {
                // Update existing entry
                quoteHistory[existingIndex].lastViewed = new Date().toISOString();
                quoteHistory[existingIndex].viewCount++;
            } else {
                // Add new entry
                quoteHistory.push({
                    ...quote,
                    id: quoteId,
                    firstViewed: new Date().toISOString(),
                    lastViewed: new Date().toISOString(),
                    viewCount: 1
                });
            }
        }

        // Render Favorites
        function renderFavorites() {
            const favoritesSection = document.getElementById('favoritesSection');
            const favoritesList = document.getElementById('favoritesList');
            
            if (favoriteQuotes.length === 0) {
                favoritesSection.style.display = 'none';
                return;
            }
            
            favoritesSection.style.display = 'block';
            favoritesList.innerHTML = favoriteQuotes.map(quote => `
                <div class="favorite-quote">
                    <div class="favorite-quote-text">"${quote.text}"</div>
                    <div class="favorite-quote-meta">
                        <div class="favorite-quote-info">
                            <strong>Author:</strong> ${quote.author} | 
                            <strong>Category:</strong> ${quote.category} | 
                            <strong>Added:</strong> ${new Date(quote.dateAdded).toLocaleDateString()}
                        </div>
                        <div class="favorite-quote-actions">
                            <button class="action-btn share-favorite-btn" onclick="shareFavoriteQuote('${quote.text}', '${quote.author}')">
                                <i class="fas fa-share"></i> Share
                            </button>
                            <button class="action-btn remove-favorite-btn" onclick="removeFavorite('${quote.id}')">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Share Favorite Quote
        function shareFavoriteQuote(text, author) {
            const shareText = `"${text}" - ${author}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Favorite Quote',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    showNotification('Quote copied to clipboard!', 'success');
                }).catch(() => {
                    showNotification('Failed to copy quote.', 'error');
                });
            }
        }

        // Remove Favorite
        function removeFavorite(quoteId) {
            const quote = favoriteQuotes.find(f => f.id === quoteId);
            if (quote) {
                favoriteQuotes = favoriteQuotes.filter(f => f.id !== quoteId);
                updateStats();
                renderFavorites();
                saveData();
                showNotification('Quote removed from favorites!', 'success');
                
                // Update favorite button if this was the current quote
                if (currentQuote && `${currentQuote.text}-${currentQuote.author}` === quoteId) {
                    updateFavoriteButton();
                }
            }
        }

        // Update Statistics
        function updateStats() {
            stats.favoriteQuotes = favoriteQuotes.length;
            
            // Update display
            document.getElementById('totalQuotes').textContent = stats.totalQuotes;
            document.getElementById('favoriteQuotes').textContent = stats.favoriteQuotes;
            document.getElementById('categoriesExplored').textContent = stats.categoriesExplored;
            document.getElementById('lastViewed').textContent = stats.lastViewed;
        }

        // Export Favorites
        function exportFavorites() {
            if (favoriteQuotes.length === 0) {
                alert('No favorite quotes to export!');
                return;
            }
            
            const exportData = {
                favorites: favoriteQuotes,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'favorite-quotes.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // Export Quote History
        function exportQuoteHistory() {
            if (quoteHistory.length === 0) {
                alert('No quote history to export!');
                return;
            }
            
            const exportData = {
                quoteHistory: quoteHistory,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'quote-history.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // Show Notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Hide and remove notification
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // Save Data
        function saveData() {
            localStorage.setItem('quoteOfTheDayData', JSON.stringify({
                favoriteQuotes: favoriteQuotes,
                quoteHistory: quoteHistory,
                stats: stats
            }));
        }

        // Load Data
        function loadData() {
            const savedData = localStorage.getItem('quoteOfTheDayData');
            if (savedData) {
                const data = JSON.parse(savedData);
                favoriteQuotes = data.favoriteQuotes || [];
                quoteHistory = data.quoteHistory || [];
                stats = data.stats || {
                    totalQuotes: 0,
                    favoriteQuotes: 0,
                    categoriesExplored: 0,
                    lastViewed: 'Never'
                };
            }
        }
    </script>
</body>
</html>
