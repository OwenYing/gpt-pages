<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T69M8TNFWB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T69M8TNFWB');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Cheat Sheet - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        .currency-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .country-selector {
            text-align: center;
        }
        
        .selector-group {
            margin-bottom: 20px;
        }
        
        .selector-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .selector-group select {
            width: 100%;
            max-width: 300px;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        
        .selector-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .generate-sheet-btn {
            padding: 15px 30px;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 auto;
        }
        
        .generate-sheet-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .currency-sheet {
            text-align: center;
        }
        
        .currency-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .country-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .currency-info {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .exchange-rate {
            font-size: 1.5rem;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
        }
        
        .quick-conversions {
            text-align: center;
        }
        
        .conversion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .conversion-card {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }
        
        .conversion-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .conversion-amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .conversion-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .common-prices {
            text-align: center;
        }
        
        .prices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .price-card {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            text-align: left;
        }
        
        .price-category {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .price-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .price-item:last-child {
            border-bottom: none;
        }
        
        .item-name {
            color: var(--text-primary);
        }
        
        .item-price {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .currency-tips {
            text-align: center;
        }
        
        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tip-card {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--primary-color);
            text-align: left;
        }
        
        .tip-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .tip-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }
        
        .tip-description {
            color: var(--text-secondary);
            line-height: 1.5;
        }
        
        .currency-calculator {
            text-align: center;
        }
        
        .calculator-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
            align-items: end;
        }
        
        .calculator-group {
            text-align: left;
        }
        
        .calculator-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .calculator-group input, .calculator-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        
        .calculator-group input:focus, .calculator-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .calculate-btn {
            padding: 12px 24px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
        }
        
        .calculate-btn:hover {
            background: var(--primary-dark);
        }
        
        .calculator-result {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .currency-templates {
            text-align: center;
        }
        
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .template-card {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .template-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .template-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .template-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }
        
        .template-country {
            font-size: 0.8rem;
            color: var(--primary-color);
            font-weight: 500;
        }
        
        .currency-stats {
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .currency-history {
            text-align: center;
        }
        
        .history-list {
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
        }
        
        .history-item {
            background: var(--light-bg);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            text-align: left;
            border-left: 4px solid var(--primary-color);
        }
        
        .history-country {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }
        
        .history-date {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .history-rate {
            font-size: 0.8rem;
            color: var(--primary-color);
            margin-top: 5px;
        }
        
        .clear-history-btn {
            padding: 10px 20px;
            border: 2px solid var(--danger-color);
            border-radius: 8px;
            background: transparent;
            color: var(--danger-color);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .clear-history-btn:hover {
            background: var(--danger-color);
            color: white;
        }
        
        @media (max-width: 768px) {
            .conversion-grid {
                grid-template-columns: 1fr;
            }
            
            .prices-grid {
                grid-template-columns: 1fr;
            }
            
            .tips-grid {
                grid-template-columns: 1fr;
            }
            
            .calculator-form {
                grid-template-columns: 1fr;
            }
            
            .template-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="individual-page">
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
        Back to Hub
    </a>

    <div class="page-content">
        <div class="page-header">
            <div class="page-header-content">
                <h1 class="page-title">Currency Cheat Sheet</h1>
                <div class="page-meta">
                    <span class="page-category-badge">Travel & Navigation</span>
                    <span class="page-number-badge">Page 57</span>
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="currency-container">
                <div class="country-selector">
                    <h2 class="setup-title">Generate Currency Cheat Sheet</h2>
                    <div class="selector-group">
                        <label for="country">Select Country</label>
                        <select id="country" onchange="onCountryChange()">
                            <option value="">Choose a country...</option>
                            <option value="japan">Japan (JPY)</option>
                            <option value="europe">European Union (EUR)</option>
                            <option value="uk">United Kingdom (GBP)</option>
                            <option value="australia">Australia (AUD)</option>
                            <option value="canada">Canada (CAD)</option>
                            <option value="switzerland">Switzerland (CHF)</option>
                            <option value="singapore">Singapore (SGD)</option>
                            <option value="south-korea">South Korea (KRW)</option>
                            <option value="thailand">Thailand (THB)</option>
                            <option value="vietnam">Vietnam (VND)</option>
                            <option value="india">India (INR)</option>
                            <option value="brazil">Brazil (BRL)</option>
                            <option value="mexico">Mexico (MXN)</option>
                            <option value="south-africa">South Africa (ZAR)</option>
                        </select>
                    </div>
                    <button class="generate-sheet-btn" onclick="generateCheatSheet()">
                        <i class="fas fa-file-alt"></i>
                        Generate Cheat Sheet
                    </button>
                </div>
            </div>
        </div>

        <div class="content-section" id="currencySheet" style="display: none;">
            <div class="currency-sheet">
                <div class="currency-header">
                    <div class="country-name" id="sheetCountryName">Country Name</div>
                    <div class="currency-info" id="sheetCurrencyInfo">Currency Info</div>
                    <div class="exchange-rate" id="sheetExchangeRate">Exchange Rate</div>
                </div>
            </div>
        </div>

        <div class="content-section" id="quickConversions" style="display: none;">
            <div class="quick-conversions">
                <h3>Quick Conversions</h3>
                <div class="conversion-grid" id="conversionGrid">
                    <!-- Conversions will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <div class="content-section" id="commonPrices" style="display: none;">
            <div class="common-prices">
                <h3>Common Prices</h3>
                <div class="prices-grid" id="pricesGrid">
                    <!-- Prices will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <div class="content-section" id="currencyTips" style="display: none;">
            <div class="currency-tips">
                <h3>Currency Tips & Best Practices</h3>
                <div class="tips-grid" id="tipsGrid">
                    <!-- Tips will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="currency-calculator">
                <h3>Currency Calculator</h3>
                <div class="calculator-form">
                    <div class="calculator-group">
                        <label for="calcAmount">Amount</label>
                        <input type="number" id="calcAmount" placeholder="Enter amount" step="0.01" min="0">
                    </div>
                    <div class="calculator-group">
                        <label for="calcFrom">From</label>
                        <select id="calcFrom">
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                            <option value="JPY">JPY</option>
                            <option value="AUD">AUD</option>
                            <option value="CAD">CAD</option>
                        </select>
                    </div>
                    <div class="calculator-group">
                        <label for="calcTo">To</label>
                        <select id="calcTo">
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                            <option value="GBP">GBP</option>
                            <option value="JPY">JPY</option>
                            <option value="AUD">AUD</option>
                            <option value="CAD">CAD</option>
                        </select>
                    </div>
                    <div class="calculator-group">
                        <button class="calculate-btn" onclick="calculateCurrency()">
                            <i class="fas fa-calculator"></i>
                            Calculate
                        </button>
                    </div>
                </div>
                <div class="calculator-result" id="calculatorResult" style="display: none;">
                    <!-- Result will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="currency-templates">
                <h3>Quick Templates</h3>
                <div class="template-grid" id="templateGrid">
                    <!-- Templates will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="currency-stats">
                <h3>Your Currency Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalSheets">0</div>
                        <div class="stat-label">Total Sheets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="countriesVisited">0</div>
                        <div class="stat-label">Countries Visited</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalConversions">0</div>
                        <div class="stat-label">Total Conversions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="favoriteCurrency">--</div>
                        <div class="stat-label">Favorite Currency</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="currency-history">
                <h3>Generated Sheets History</h3>
                <div class="history-list" id="historyList">
                    <!-- History will be populated by JavaScript -->
                </div>
                <button class="clear-history-btn" onclick="clearHistory()">
                    <i class="fas fa-trash"></i>
                    Clear History
                </button>
            </div>
        </div>
    </div>

    <script>
        // Currency data
        const currencyData = {
            'japan': {
                name: 'Japan',
                currency: 'Japanese Yen (JPY)',
                symbol: '¥',
                rate: 0.0067,
                conversions: [
                    { usd: 1, local: 150, label: '1 USD' },
                    { usd: 5, local: 750, label: '5 USD' },
                    { usd: 10, local: 1500, label: '10 USD' },
                    { usd: 20, local: 3000, label: '20 USD' },
                    { usd: 50, local: 7500, label: '50 USD' },
                    { usd: 100, local: 15000, label: '100 USD' }
                ],
                prices: {
                    'Food & Dining': [
                        { name: 'Coffee', price: '¥300-500' },
                        { name: 'Lunch', price: '¥800-1500' },
                        { name: 'Dinner', price: '¥1500-3000' },
                        { name: 'Beer', price: '¥400-800' }
                    ],
                    'Transportation': [
                        { name: 'Subway', price: '¥200-400' },
                        { name: 'Taxi (5km)', price: '¥1500-2000' },
                        { name: 'Train (Tokyo-Osaka)', price: '¥14000' }
                    ],
                    'Accommodation': [
                        { name: 'Hostel', price: '¥2000-4000' },
                        { name: 'Hotel', price: '¥8000-20000' },
                        { name: 'Ryokan', price: '¥15000-30000' }
                    ]
                },
                tips: [
                    { icon: '💡', title: 'Cash is King', description: 'Many places in Japan still prefer cash, especially smaller establishments and rural areas.' },
                    { icon: '🏧', title: 'ATM Locations', description: 'Look for 7-Eleven ATMs or post office ATMs for the best exchange rates.' },
                    { icon: '📱', title: 'Digital Payments', description: 'Suica and Pasmo cards can be used for transportation and some purchases.' },
                    { icon: '💳', title: 'Credit Cards', description: 'Major hotels and department stores accept cards, but carry cash as backup.' }
                ]
            },
            'europe': {
                name: 'European Union',
                currency: 'Euro (EUR)',
                symbol: '€',
                rate: 1.09,
                conversions: [
                    { usd: 1, local: 0.92, label: '1 USD' },
                    { usd: 5, local: 4.60, label: '5 USD' },
                    { usd: 10, local: 9.20, label: '10 USD' },
                    { usd: 20, local: 18.40, label: '20 USD' },
                    { usd: 50, local: 46.00, label: '50 USD' },
                    { usd: 100, local: 92.00, label: '100 USD' }
                ],
                prices: {
                    'Food & Dining': [
                        { name: 'Coffee', price: '€2-4' },
                        { name: 'Lunch', price: '€8-15' },
                        { name: 'Dinner', price: '€15-30' },
                        { name: 'Beer', price: '€3-6' }
                    ],
                    'Transportation': [
                        { name: 'Metro', price: '€1.50-3' },
                        { name: 'Taxi (5km)', price: '€8-15' },
                        { name: 'Train (Paris-London)', price: '€50-100' }
                    ],
                    'Accommodation': [
                        { name: 'Hostel', price: '€20-40' },
                        { name: 'Hotel', price: '€80-200' },
                        { name: 'Boutique Hotel', price: '€150-300' }
                    ]
                },
                tips: [
                    { icon: '💳', title: 'Card Preferred', description: 'Cards are widely accepted throughout most of Europe, especially in cities.' },
                    { icon: '🏧', title: 'ATM Withdrawals', description: 'Use bank ATMs for better rates and lower fees than currency exchanges.' },
                    { icon: '📱', title: 'Contactless', description: 'Contactless payments are very common and often preferred for small purchases.' },
                    { icon: '💶', title: 'Cash Backup', description: 'Keep some cash for small purchases, tips, and rural areas.' }
                ]
            },
            'uk': {
                name: 'United Kingdom',
                currency: 'British Pound (GBP)',
                symbol: '£',
                rate: 1.27,
                conversions: [
                    { usd: 1, local: 0.79, label: '1 USD' },
                    { usd: 5, local: 3.95, label: '5 USD' },
                    { usd: 10, local: 7.90, label: '10 USD' },
                    { usd: 20, local: 15.80, label: '20 USD' },
                    { usd: 50, local: 39.50, label: '50 USD' },
                    { usd: 100, local: 79.00, label: '100 USD' }
                ],
                prices: {
                    'Food & Dining': [
                        { name: 'Coffee', price: '£2.50-4' },
                        { name: 'Lunch', price: '£8-15' },
                        { name: 'Dinner', price: '£15-35' },
                        { name: 'Pint of Beer', price: '£4-6' }
                    ],
                    'Transportation': [
                        { name: 'Tube', price: '£2.40-6' },
                        { name: 'Taxi (5km)', price: '£12-20' },
                        { name: 'Train (London-Manchester)', price: '£50-100' }
                    ],
                    'Accommodation': [
                        { name: 'Hostel', price: '£25-45' },
                        { name: 'Hotel', price: '£100-250' },
                        { name: 'Boutique Hotel', price: '£200-400' }
                    ]
                },
                tips: [
                    { icon: '💳', title: 'Card Dominant', description: 'Cards are the preferred payment method, especially contactless.' },
                    { icon: '🏧', title: 'ATM Network', description: 'Use major bank ATMs to avoid fees and get good exchange rates.' },
                    { icon: '📱', title: 'Mobile Payments', description: 'Apple Pay and Google Pay are widely accepted throughout the UK.' },
                    { icon: '💷', title: 'Cash Usage', description: 'Cash is still accepted but becoming less common, especially in cities.' }
                ]
            }
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadTemplates();
            loadSavedData();
            updateStats();
        });

        function onCountryChange() {
            const country = document.getElementById('country').value;
            if (country) {
                generateCheatSheet();
            }
        }

        function generateCheatSheet() {
            const country = document.getElementById('country').value;
            if (!country) {
                alert('Please select a country');
                return;
            }

            const data = currencyData[country];
            if (!data) {
                alert('Country data not available');
                return;
            }

            // Display currency sheet
            document.getElementById('sheetCountryName').textContent = data.name;
            document.getElementById('sheetCurrencyInfo').textContent = data.currency;
            document.getElementById('sheetExchangeRate').textContent = `1 USD = ${data.symbol}${(1 / data.rate).toFixed(2)}`;
            
            document.getElementById('currencySheet').style.display = 'block';

            // Display quick conversions
            displayConversions(data.conversions, data.symbol);
            document.getElementById('quickConversions').style.display = 'block';

            // Display common prices
            displayPrices(data.prices);
            document.getElementById('commonPrices').style.display = 'block';

            // Display currency tips
            displayTips(data.tips);
            document.getElementById('currencyTips').style.display = 'block';

            // Save to history
            saveToHistory(country, data);
            
            // Update stats
            updateStats();
        }

        function displayConversions(conversions, symbol) {
            const grid = document.getElementById('conversionGrid');
            grid.innerHTML = '';
            
            conversions.forEach(conv => {
                const card = document.createElement('div');
                card.className = 'conversion-card';
                
                card.innerHTML = `
                    <div class="conversion-amount">${symbol}${conv.local}</div>
                    <div class="conversion-label">${conv.label}</div>
                `;
                
                grid.appendChild(card);
            });
        }

        function displayPrices(prices) {
            const grid = document.getElementById('pricesGrid');
            grid.innerHTML = '';
            
            Object.entries(prices).forEach(([category, items]) => {
                const card = document.createElement('div');
                card.className = 'price-card';
                
                let itemsHtml = '';
                items.forEach(item => {
                    itemsHtml += `
                        <div class="price-item">
                            <span class="item-name">${item.name}</span>
                            <span class="item-price">${item.price}</span>
                        </div>
                    `;
                });
                
                card.innerHTML = `
                    <div class="price-category">${category}</div>
                    ${itemsHtml}
                `;
                
                grid.appendChild(card);
            });
        }

        function displayTips(tips) {
            const grid = document.getElementById('tipsGrid');
            grid.innerHTML = '';
            
            tips.forEach(tip => {
                const card = document.createElement('div');
                card.className = 'tip-card';
                
                card.innerHTML = `
                    <div class="tip-icon">${tip.icon}</div>
                    <div class="tip-title">${tip.title}</div>
                    <div class="tip-description">${tip.description}</div>
                `;
                
                grid.appendChild(card);
            });
        }

        function calculateCurrency() {
            const amount = parseFloat(document.getElementById('calcAmount').value);
            const from = document.getElementById('calcFrom').value;
            const to = document.getElementById('calcTo').value;
            
            if (!amount || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            if (from === to) {
                document.getElementById('calculatorResult').textContent = `${amount} ${from} = ${amount} ${to}`;
                document.getElementById('calculatorResult').style.display = 'block';
                return;
            }
            
            // Simplified conversion (in real app, you'd use live rates)
            const rates = {
                'USD': 1,
                'EUR': 0.92,
                'GBP': 0.79,
                'JPY': 150,
                'AUD': 1.52,
                'CAD': 1.35
            };
            
            const usdAmount = amount / rates[from];
            const convertedAmount = usdAmount * rates[to];
            
            document.getElementById('calculatorResult').textContent = 
                `${amount} ${from} = ${convertedAmount.toFixed(2)} ${to}`;
            document.getElementById('calculatorResult').style.display = 'block';
        }

        function loadTemplates() {
            const templates = [
                { title: 'Popular Destinations', description: 'Quick access to major travel countries', country: 'japan' },
                { title: 'European Travel', description: 'Euro zone countries and UK', country: 'europe' },
                { title: 'Business Travel', description: 'Major business destinations', country: 'uk' },
                { title: 'Budget Travel', description: 'Affordable destinations', country: 'thailand' }
            ];
            
            const templateGrid = document.getElementById('templateGrid');
            templateGrid.innerHTML = '';
            
            templates.forEach(template => {
                const templateCard = document.createElement('div');
                templateCard.className = 'template-card';
                templateCard.onclick = () => loadTemplate(template.country);
                
                templateCard.innerHTML = `
                    <div class="template-title">${template.title}</div>
                    <div class="template-description">${template.description}</div>
                    <div class="template-country">${template.country}</div>
                `;
                
                templateGrid.appendChild(templateCard);
            });
        }

        function loadTemplate(country) {
            document.getElementById('country').value = country;
            generateCheatSheet();
        }

        function saveToHistory(country, data) {
            const history = JSON.parse(localStorage.getItem('currencyHistory') || '[]');
            const historyItem = {
                country,
                name: data.name,
                currency: data.currency,
                timestamp: new Date().toISOString()
            };
            
            // Add to beginning of array
            history.unshift(historyItem);
            
            // Keep only last 20 items
            if (history.length > 20) {
                history.pop();
            }
            
            localStorage.setItem('currencyHistory', JSON.stringify(history));
            loadHistory();
        }

        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('currencyHistory') || '[]');
            const historyList = document.getElementById('historyList');
            
            historyList.innerHTML = '';
            
            if (history.length === 0) {
                historyList.innerHTML = '<p>No history yet</p>';
                return;
            }
            
            history.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                historyItem.innerHTML = `
                    <div class="history-country">${item.name}</div>
                    <div class="history-date">${new Date(item.timestamp).toLocaleDateString()}</div>
                    <div class="history-rate">${item.currency}</div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }

        function clearHistory() {
            if (confirm('Are you sure you want to clear all history?')) {
                localStorage.removeItem('currencyHistory');
                loadHistory();
                updateStats();
            }
        }

        function updateStats() {
            const history = JSON.parse(localStorage.getItem('currencyHistory') || '[]');
            const totalSheets = history.length;
            const countriesVisited = new Set(history.map(item => item.country)).size;
            
            // Count conversions (simplified)
            const totalConversions = totalSheets * 3; // Assume 3 conversions per sheet
            
            // Find favorite currency (most visited)
            const countryCounts = {};
            history.forEach(item => {
                countryCounts[item.country] = (countryCounts[item.country] || 0) + 1;
            });
            
            let favoriteCurrency = '--';
            let maxCount = 0;
            Object.entries(countryCounts).forEach(([country, count]) => {
                if (count > maxCount) {
                    maxCount = count;
                    favoriteCurrency = currencyData[country]?.name || country;
                }
            });
            
            document.getElementById('totalSheets').textContent = totalSheets;
            document.getElementById('countriesVisited').textContent = countriesVisited;
            document.getElementById('totalConversions').textContent = totalConversions;
            document.getElementById('favoriteCurrency').textContent = favoriteCurrency;
        }

        function loadSavedData() {
            loadHistory();
        }
    </script>
</body>
</html>
