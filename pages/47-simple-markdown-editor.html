<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T69M8TNFWB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T69M8TNFWB');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Markdown Editor - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .editor-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .editor-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .editor-panel {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .panel-header {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .markdown-input {
            width: 100%;
            min-height: 500px;
            border: none;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            outline: none;
            background: #f8f9fa;
        }
        
        .markdown-preview {
            padding: 20px;
            min-height: 500px;
            background: white;
            overflow-y: auto;
            line-height: 1.6;
        }
        
        .markdown-preview h1, .markdown-preview h2, .markdown-preview h3,
        .markdown-preview h4, .markdown-preview h5, .markdown-preview h6 {
            color: var(--primary-color);
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        
        .markdown-preview h1 { font-size: 2em; border-bottom: 2px solid var(--border-color); padding-bottom: 0.3em; }
        .markdown-preview h2 { font-size: 1.5em; border-bottom: 1px solid var(--border-color); padding-bottom: 0.3em; }
        .markdown-preview h3 { font-size: 1.25em; }
        .markdown-preview h4 { font-size: 1.1em; }
        
        .markdown-preview p { margin-bottom: 1em; }
        .markdown-preview ul, .markdown-preview ol { margin-bottom: 1em; padding-left: 2em; }
        .markdown-preview li { margin-bottom: 0.5em; }
        
        .markdown-preview blockquote {
            border-left: 4px solid var(--primary-color);
            margin: 1em 0;
            padding-left: 1em;
            color: #666;
            font-style: italic;
        }
        
        .markdown-preview code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .markdown-preview pre {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1em 0;
        }
        
        .markdown-preview pre code {
            background: none;
            padding: 0;
        }
        
        .markdown-preview table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }
        
        .markdown-preview th, .markdown-preview td {
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            text-align: left;
        }
        
        .markdown-preview th {
            background: var(--primary-color);
            color: white;
        }
        
        .markdown-preview img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 1em 0;
        }
        
        .markdown-preview a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .markdown-preview a:hover {
            text-decoration: underline;
        }
        
        .editor-toolbar {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .toolbar-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .toolbar-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .toolbar-btn {
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .toolbar-btn:hover {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }
        
        .toolbar-btn.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .file-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .file-btn {
            padding: 12px 24px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .file-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .file-btn.secondary {
            background: transparent;
            color: var(--primary-color);
        }
        
        .file-btn.secondary:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .markdown-templates {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .templates-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .template-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .template-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .template-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .template-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .template-preview {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
            max-height: 100px;
            overflow: hidden;
        }
        
        .editor-stats {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .stats-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        @media (max-width: 768px) {
            .editor-layout {
                grid-template-columns: 1fr;
            }
            
            .toolbar-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .file-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .file-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="individual-page">
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Hub
    </a>
    
    <div class="container">
        <div class="page-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">Simple Markdown Editor</h1>
                    <div class="page-meta">
                        <span class="page-category-badge">Writing & Creativity</span>
                        <span class="page-number-badge">Page #47</span>
                    </div>
                </div>
            </div>

            <!-- Introduction -->
            <div class="content-section">
                <p>Write and preview Markdown in real-time with our simple yet powerful editor! Perfect for creating documentation, blog posts, notes, and any text that needs formatting. Features include live preview, templates, and easy file management.</p>
            </div>

            <!-- Editor Toolbar -->
            <div class="content-section">
                <div class="editor-toolbar">
                    <div class="toolbar-title">Markdown Tools</div>
                    
                    <div class="toolbar-buttons">
                        <button class="toolbar-btn" onclick="insertMarkdown('**', '**', 'Bold Text')">
                            <i class="fas fa-bold"></i> Bold
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('*', '*', 'Italic Text')">
                            <i class="fas fa-italic"></i> Italic
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('`', '`', 'Code')">
                            <i class="fas fa-code"></i> Code
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('```\n', '\n```', 'Code Block')">
                            <i class="fas fa-file-code"></i> Code Block
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('> ', '', 'Blockquote')">
                            <i class="fas fa-quote-right"></i> Quote
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('- ', '', 'List Item')">
                            <i class="fas fa-list-ul"></i> List
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('1. ', '', 'Numbered Item')">
                            <i class="fas fa-list-ol"></i> Numbered
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('[', '](url)', 'Link')">
                            <i class="fas fa-link"></i> Link
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('![', '](url)', 'Image')">
                            <i class="fas fa-image"></i> Image
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('| Header | Header |\n|--------|--------|\n| Cell | Cell |', '', 'Table')">
                            <i class="fas fa-table"></i> Table
                        </button>
                        <button class="toolbar-btn" onclick="insertMarkdown('---', '', 'Horizontal Rule')">
                            <i class="fas fa-minus"></i> Rule
                        </button>
                    </div>
                    
                    <div class="file-actions">
                        <button class="file-btn" onclick="newDocument()">
                            <i class="fas fa-plus"></i> New Document
                        </button>
                        <button class="file-btn secondary" onclick="saveDocument()">
                            <i class="fas fa-save"></i> Save
                        </button>
                        <button class="file-btn secondary" onclick="loadDocument()">
                            <i class="fas fa-folder-open"></i> Load
                        </button>
                        <button class="file-btn secondary" onclick="exportDocument()">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
            </div>

            <!-- Editor Layout -->
            <div class="content-section">
                <div class="editor-container">
                    <div class="editor-layout">
                        <div class="editor-panel">
                            <div class="panel-header">
                                <i class="fas fa-edit"></i>
                                Markdown Input
                            </div>
                            <textarea id="markdownInput" class="markdown-input" placeholder="Start writing your Markdown here..."></textarea>
                        </div>
                        
                        <div class="editor-panel">
                            <div class="panel-header">
                                <i class="fas fa-eye"></i>
                                Live Preview
                            </div>
                            <div id="markdownPreview" class="markdown-preview">
                                <p style="color: #666; text-align: center; margin-top: 200px;">Your Markdown preview will appear here...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Markdown Templates -->
            <div class="content-section">
                <div class="markdown-templates">
                    <div class="templates-title">Quick Templates</div>
                    
                    <div class="templates-grid">
                        <div class="template-item" onclick="loadTemplate('basic')">
                            <div class="template-name">Basic Document</div>
                            <div class="template-description">A simple template with title, headings, and basic formatting.</div>
                            <div class="template-preview"># Title\n## Subtitle\n\nContent here...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('blog')">
                            <div class="template-name">Blog Post</div>
                            <div class="template-description">Perfect for blog posts with meta information and structure.</div>
                            <div class="template-preview"># Blog Title\n\n*Date: [Date]*\n\n## Introduction...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('documentation')">
                            <div class="template-name">Documentation</div>
                            <div class="template-description">Structured documentation with table of contents and examples.</div>
                            <div class="template-preview"># Documentation\n\n## Table of Contents\n- [Section 1](#section-1)...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('meeting')">
                            <div class="template-name">Meeting Notes</div>
                            <div class="template-description">Template for meeting notes with attendees and action items.</div>
                            <div class="template-preview"># Meeting: [Topic]\n\n**Date:** [Date]\n**Attendees:** [Names]...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Editor Statistics -->
            <div class="content-section">
                <div class="editor-stats">
                    <div class="stats-title">Your Writing Statistics</div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="wordCount">0</div>
                            <div class="stat-label">Words</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="charCount">0</div>
                            <div class="stat-label">Characters</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="lineCount">0</div>
                            <div class="stat-label">Lines</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="sessionTime">0</div>
                            <div class="stat-label">Minutes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let sessionStartTime = Date.now();
        let currentDocument = {
            title: 'Untitled Document',
            content: '',
            lastModified: Date.now()
        };
        
        let documentHistory = JSON.parse(localStorage.getItem('markdownHistory')) || [];
        let editorStats = JSON.parse(localStorage.getItem('markdownStats')) || {
            totalDocuments: 0,
            totalWords: 0,
            totalCharacters: 0,
            totalSessions: 0
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            loadDefaultTemplate();
            updateStats();
            startSessionTimer();
        });

        function setupEventListeners() {
            const textarea = document.getElementById('markdownInput');
            textarea.addEventListener('input', function() {
                updatePreview();
                updateStats();
                saveToLocalStorage();
            });
            
            // Auto-save every 30 seconds
            setInterval(saveToLocalStorage, 30000);
        }

        function updatePreview() {
            const input = document.getElementById('markdownInput').value;
            const preview = document.getElementById('markdownPreview');
            
            if (!input.trim()) {
                preview.innerHTML = '<p style="color: #666; text-align: center; margin-top: 200px;">Your Markdown preview will appear here...</p>';
                return;
            }
            
            // Simple Markdown to HTML conversion
            let html = input
                // Headers
                .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                
                // Bold and Italic
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                
                // Code blocks
                .replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>')
                .replace(/`(.*?)`/g, '<code>$1</code>')
                
                // Blockquotes
                .replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>')
                
                // Lists
                .replace(/^\- (.*$)/gim, '<li>$1</li>')
                .replace(/^(\d+)\. (.*$)/gim, '<li>$2</li>')
                
                // Links
                .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2">$1</a>')
                
                // Images
                .replace(/!\[([^\]]*)\]\(([^)]+)\)/g, '<img src="$2" alt="$1">')
                
                // Horizontal rules
                .replace(/^---$/gim, '<hr>')
                
                // Line breaks
                .replace(/\n/g, '<br>');
            
            // Wrap lists properly
            html = html.replace(/(<li>.*?<\/li>)/g, '<ul>$1</ul>');
            
            preview.innerHTML = html;
        }

        function insertMarkdown(before, after, placeholder) {
            const textarea = document.getElementById('markdownInput');
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = textarea.value;
            const selectedText = text.substring(start, end);
            
            const newText = before + (selectedText || placeholder) + after;
            textarea.value = text.substring(0, start) + newText + text.substring(end);
            
            // Set cursor position
            if (selectedText) {
                textarea.selectionStart = start + before.length;
                textarea.selectionEnd = start + before.length + selectedText.length;
            } else {
                textarea.selectionStart = start + before.length;
                textarea.selectionEnd = start + before.length + placeholder.length;
            }
            
            textarea.focus();
            updatePreview();
        }

        function loadTemplate(templateType) {
            const templates = {
                basic: `# Document Title

## Introduction
This is a basic document template. You can start writing your content here.

## Main Content
- Point 1
- Point 2
- Point 3

## Conclusion
Wrap up your document here.`,

                blog: `# Blog Post Title

*Published on: [Date]*
*Author: [Your Name]*

## Introduction
Start your blog post with an engaging introduction that hooks your readers.

## Main Points

### Point 1
Explain your first main point here.

### Point 2
Develop your second main point.

### Point 3
Conclude with your third main point.

## Conclusion
Summarize your key takeaways and end with a call to action.`,

                documentation: `# Project Documentation

## Table of Contents
- [Overview](#overview)
- [Installation](#installation)
- [Usage](#usage)
- [API Reference](#api-reference)

## Overview
Brief description of your project.

## Installation
\`\`\`bash
npm install your-package
\`\`\`

## Usage
\`\`\`javascript
const yourPackage = require('your-package');
yourPackage.doSomething();
\`\`\`

## API Reference
| Method | Description | Parameters |
|--------|-------------|------------|
| method1 | Description | param1, param2 |
| method2 | Description | param1 |`,

                meeting: `# Meeting: [Topic]

**Date:** [Date]
**Time:** [Time]
**Attendees:** [Names]
**Facilitator:** [Name]

## Agenda
1. [Item 1]
2. [Item 2]
3. [Item 3]

## Discussion Points

### [Topic 1]
- Discussion notes
- Decisions made

### [Topic 2]
- Discussion notes
- Decisions made

## Action Items
- [ ] [Action 1] - [Assignee] - [Due Date]
- [ ] [Action 2] - [Assignee] - [Due Date]

## Next Meeting
**Date:** [Date]
**Time:** [Time]
**Agenda:** [Topics]`
            };
            
            document.getElementById('markdownInput').value = templates[templateType] || templates.basic;
            updatePreview();
            updateStats();
        }

        function loadDefaultTemplate() {
            loadTemplate('basic');
        }

        function newDocument() {
            if (confirm('Are you sure you want to create a new document? Any unsaved changes will be lost.')) {
                document.getElementById('markdownInput').value = '';
                updatePreview();
                updateStats();
                currentDocument = {
                    title: 'Untitled Document',
                    content: '',
                    lastModified: Date.now()
                };
            }
        }

        function saveDocument() {
            const content = document.getElementById('markdownInput').value;
            const title = prompt('Enter document title:', currentDocument.title);
            
            if (title) {
                currentDocument = {
                    title: title,
                    content: content,
                    lastModified: Date.now()
                };
                
                // Save to localStorage
                const documents = JSON.parse(localStorage.getItem('markdownDocuments') || '[]');
                const existingIndex = documents.findIndex(doc => doc.title === title);
                
                if (existingIndex >= 0) {
                    documents[existingIndex] = currentDocument;
                } else {
                    documents.push(currentDocument);
                }
                
                localStorage.setItem('markdownDocuments', JSON.stringify(documents));
                alert('Document saved successfully!');
            }
        }

        function loadDocument() {
            const documents = JSON.parse(localStorage.getItem('markdownDocuments') || '[]');
            
            if (documents.length === 0) {
                alert('No saved documents found.');
                return;
            }
            
            const documentNames = documents.map(doc => doc.title);
            const selectedTitle = prompt('Select document to load:\n\n' + documentNames.join('\n'));
            
            if (selectedTitle) {
                const document = documents.find(doc => doc.title === selectedTitle);
                if (document) {
                    document.getElementById('markdownInput').value = document.content;
                    currentDocument = document;
                    updatePreview();
                    updateStats();
                }
            }
        }

        function exportDocument() {
            const content = document.getElementById('markdownInput').value;
            const title = currentDocument.title || 'untitled';
            
            const blob = new Blob([content], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${title}.md`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function saveToLocalStorage() {
            const content = document.getElementById('markdownInput').value;
            localStorage.setItem('markdownDraft', content);
        }

        function updateStats() {
            const content = document.getElementById('markdownInput').value;
            const words = content.trim() ? content.split(/\s+/).length : 0;
            const characters = content.length;
            const lines = content.split('\n').length;
            
            document.getElementById('wordCount').textContent = words;
            document.getElementById('charCount').textContent = characters;
            document.getElementById('lineCount').textContent = lines;
            
            // Update session stats
            editorStats.totalWords += words;
            editorStats.totalCharacters += characters;
            localStorage.setItem('markdownStats', JSON.stringify(editorStats));
        }

        function startSessionTimer() {
            setInterval(() => {
                const sessionTime = Math.floor((Date.now() - sessionStartTime) / 60000);
                document.getElementById('sessionTime').textContent = sessionTime;
            }, 60000);
        }

        // Load draft on page load
        window.addEventListener('load', function() {
            const draft = localStorage.getItem('markdownDraft');
            if (draft) {
                document.getElementById('markdownInput').value = draft;
                updatePreview();
                updateStats();
            }
        });
    </script>
</body>
</html>
