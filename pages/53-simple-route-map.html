<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Route Map - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        .route-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        

        
        .setup-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .route-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-group {
            text-align: center;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .route-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .route-btn {
            padding: 15px 30px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .route-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .route-btn.primary {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .route-btn.primary:hover {
            background: var(--primary-dark);
        }
        
        .map-display {
            text-align: center;
        }
        
        .map-container {
            background: var(--bg-tertiary);
            padding: 40px;
            border-radius: 15px;
            border: 3px solid var(--border-color);
            margin: 20px 0;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .map-container.empty {
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .map-placeholder {
            text-align: center;
            max-width: 500px;
        }
        
        .map-placeholder i {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
            color: var(--text-secondary);
        }
        
        .map-placeholder h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .map-placeholder p {
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        .map-iframe {
            width: 100%;
            height: 500px;
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .route-info {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid var(--border-color);
        }
        
        .route-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .route-stat {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
        }
        
        .route-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .route-stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .route-directions {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .direction-step {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .direction-step:last-child {
            border-bottom: none;
        }
        
        .step-number {
            background: var(--primary-color);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-instruction {
            color: var(--text-primary);
            font-size: 0.95rem;
            line-height: 1.4;
            margin-bottom: 5px;
        }
        
        .step-distance {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }
        

        
        .tools-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .tool-item {
            background: var(--bg-tertiary);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }
        
        .tool-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .tool-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .tool-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
        }
        
        .tool-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .tool-btn {
            padding: 10px 20px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .tool-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        

        
        .templates-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .template-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .template-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .template-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .template-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .template-preview {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            max-height: 80px;
            overflow: hidden;
        }
        

        
        .history-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .history-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .history-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .history-route {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .history-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .history-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .history-mode {
            background: var(--primary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 10px;
        }
        
        .route-stats {
            text-align: center;
        }
        
        .stats-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .route-form {
                grid-template-columns: 1fr;
            }
            
            .route-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .route-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .route-summary {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .history-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="individual-page">
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Hub
    </a>
    
    <div class="container">
        <div class="page-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">Simple Route Map</h1>
                    <div class="page-meta">
                        <span class="page-category-badge">Travel & Navigation</span>
                        <span class="page-number-badge">Page #53</span>
                    </div>
                </div>
            </div>

            <!-- Introduction -->
            <div class="content-section">
                <p>Plan your journey with our simple route mapping tool! Enter your starting point and destination to get directions, estimated travel time, and distance. Perfect for road trips, daily commutes, or exploring new places. Get Google Maps integration for accurate, real-time navigation.</p>
            </div>

            <!-- Route Setup -->
            <div class="content-section">
                <div class="route-setup">
                    <div class="setup-title">Plan Your Route</div>
                    
                    <div class="route-form">
                        <div class="form-group">
                            <label for="startLocation">Starting Point</label>
                            <input type="text" id="startLocation" placeholder="e.g., Home, Current Location, Address">
                        </div>
                        
                        <div class="form-group">
                            <label for="endLocation">Destination</label>
                            <input type="text" id="endLocation" placeholder="e.g., Work, Restaurant, Landmark">
                        </div>
                        
                        <div class="form-group">
                            <label for="travelMode">Travel Mode</label>
                            <select id="travelMode">
                                <option value="driving">Driving</option>
                                <option value="walking">Walking</option>
                                <option value="bicycling">Bicycling</option>
                                <option value="transit">Public Transit</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="avoidTolls">Avoid</label>
                            <select id="avoidTolls">
                                <option value="">None</option>
                                <option value="tolls">Tolls</option>
                                <option value="highways">Highways</option>
                                <option value="ferries">Ferries</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="route-actions">
                        <button class="route-btn" onclick="clearRoute()">
                            <i class="fas fa-eraser"></i> Clear
                        </button>
                        <button class="route-btn primary" onclick="getRoute()">
                            <i class="fas fa-route"></i> Get Directions
                        </button>
                        <button class="route-btn" onclick="saveRoute()">
                            <i class="fas fa-bookmark"></i> Save Route
                        </button>
                    </div>
                </div>
            </div>

            <!-- Map Display -->
            <div class="content-section" id="mapSection" style="display: none;">
                <div class="map-display">
                    <div class="map-container" id="mapContainer">
                        <div class="map-placeholder">
                            <i class="fas fa-map-marked-alt"></i>
                            <h3>Your Route Map</h3>
                            <p>Enter your starting point and destination above, then click "Get Directions" to see your route on the map.</p>
                        </div>
                    </div>
                    
                    <div class="route-info" id="routeInfo" style="display: none;">
                        <div class="route-summary" id="routeSummary">
                            <!-- Route summary will be populated by JavaScript -->
                        </div>
                        
                        <div class="route-directions" id="routeDirections">
                            <!-- Route directions will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Route Tools -->
            <div class="content-section">
                <div class="route-tools">
                    <div class="tools-title">Route Planning Tools</div>
                    
                    <div class="tools-grid">
                        <div class="tool-item">
                            <div class="tool-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="tool-name">Travel Time Calculator</div>
                            <div class="tool-description">Calculate estimated travel time for different departure times and traffic conditions.</div>
                            <button class="tool-btn" onclick="calculateTravelTime()">Calculate Time</button>
                        </div>
                        
                        <div class="tool-item">
                            <div class="tool-icon">
                                <i class="fas fa-gas-pump"></i>
                            </div>
                            <div class="tool-name">Fuel Cost Estimator</div>
                            <div class="tool-description">Estimate fuel costs for your journey based on distance and current fuel prices.</div>
                            <button class="tool-btn" onclick="estimateFuelCost()">Estimate Cost</button>
                        </div>
                        
                        <div class="tool-item">
                            <div class="tool-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div class="tool-name">Rest Stop Finder</div>
                            <div class="tool-description">Find rest stops, gas stations, and restaurants along your route.</div>
                            <button class="tool-btn" onclick="findRestStops()">Find Stops</button>
                        </div>
                        
                        <div class="tool-item">
                            <div class="tool-icon">
                                <i class="fas fa-weather"></i>
                            </div>
                            <div class="tool-name">Weather Check</div>
                            <div class="tool-description">Check weather conditions along your route for better trip planning.</div>
                            <button class="tool-btn" onclick="checkWeather()">Check Weather</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Route Templates -->
            <div class="content-section">
                <div class="route-templates">
                    <div class="templates-title">Quick Route Templates</div>
                    
                    <div class="templates-grid">
                        <div class="template-item" onclick="loadTemplate('commute')">
                            <div class="template-name">Daily Commute</div>
                            <div class="template-description">Perfect for planning your daily route to work or school.</div>
                            <div class="template-preview">Home → Work, Avoid traffic, Public transit options...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('roadtrip')">
                            <div class="template-name">Road Trip</div>
                            <div class="template-description">Plan scenic routes with rest stops and attractions.</div>
                            <div class="template-preview">Scenic routes, Rest stops, Attractions, Fuel planning...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('shopping')">
                            <div class="template-name">Shopping Trip</div>
                            <div class="template-description">Efficient routes for multiple shopping destinations.</div>
                            <div class="template-preview">Multiple stops, Efficient order, Parking info...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('exercise')">
                            <div class="template-name">Exercise Route</div>
                            <div class="template-description">Walking and cycling routes for fitness and recreation.</div>
                            <div class="template-preview">Walking paths, Bike lanes, Parks, Distance tracking...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Route Statistics -->
            <div class="content-section">
                <div class="route-stats">
                    <div class="stats-title">Your Route Planning Journey</div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="totalRoutes">0</div>
                            <div class="stat-label">Routes Planned</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalDistance">0</div>
                            <div class="stat-label">Miles Traveled</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalTime">0</div>
                            <div class="stat-label">Hours Saved</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="favoriteRoutes">0</div>
                            <div class="stat-label">Favorite Routes</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Route History -->
            <div class="content-section">
                <div class="route-history">
                    <div class="history-title">Recent Routes</div>
                    
                    <div class="history-grid" id="historyGrid">
                        <!-- History items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentRoute = null;
        let routeHistory = JSON.parse(localStorage.getItem('routeHistory')) || [];
        let routeStats = JSON.parse(localStorage.getItem('routeStats')) || {
            totalRoutes: 0,
            totalDistance: 0,
            totalTime: 0,
            favoriteRoutes: 0
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            renderHistory();
        });

        function getRoute() {
            const startLocation = document.getElementById('startLocation').value.trim();
            const endLocation = document.getElementById('endLocation').value.trim();
            const travelMode = document.getElementById('travelMode').value;
            const avoidTolls = document.getElementById('avoidTolls').value;
            
            if (!startLocation || !endLocation) {
                alert('Please enter both starting point and destination.');
                return;
            }
            
            // Show map section
            document.getElementById('mapSection').style.display = 'block';
            
            // Create route object
            currentRoute = {
                id: Date.now(),
                start: startLocation,
                end: endLocation,
                mode: travelMode,
                avoid: avoidTolls,
                createdAt: Date.now()
            };
            
            // Generate mock route data (in real app, this would come from Google Maps API)
            generateMockRoute(currentRoute);
            
            // Scroll to map
            document.getElementById('mapSection').scrollIntoView({ behavior: 'smooth' });
        }

        function generateMockRoute(route) {
            // Mock route data for demonstration
            const mockData = {
                distance: Math.floor(Math.random() * 50) + 5 + ' miles',
                duration: Math.floor(Math.random() * 60) + 15 + ' min',
                steps: [
                    { instruction: 'Start at ' + route.start, distance: '0 mi' },
                    { instruction: 'Turn right onto Main Street', distance: '0.5 mi' },
                    { instruction: 'Continue straight for 2 miles', distance: '2.5 mi' },
                    { instruction: 'Turn left onto Oak Avenue', distance: '1.2 mi' },
                    { instruction: 'Arrive at ' + route.end, distance: route.distance }
                ]
            };
            
            route.data = mockData;
            
            // Update map display
            updateMapDisplay(route);
            updateRouteInfo(route);
        }

        function updateMapDisplay(route) {
            const mapContainer = document.getElementById('mapContainer');
            
            // Create mock map (in real app, this would embed Google Maps)
            mapContainer.innerHTML = `
                <div style="width: 100%; height: 500px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; text-align: center;">
                    <div>
                        <i class="fas fa-map-marked-alt" style="font-size: 4rem; margin-bottom: 20px; display: block;"></i>
                        <h3 style="margin-bottom: 15px;">Route Map</h3>
                        <p style="margin-bottom: 10px;"><strong>From:</strong> ${route.start}</p>
                        <p style="margin-bottom: 10px;"><strong>To:</strong> ${route.end}</p>
                        <p style="margin-bottom: 10px;"><strong>Mode:</strong> ${route.mode}</p>
                        <p style="font-size: 0.9rem; opacity: 0.8;">Google Maps integration would be embedded here</p>
                    </div>
                </div>
            `;
        }

        function updateRouteInfo(route) {
            const routeSummary = document.getElementById('routeSummary');
            const routeDirections = document.getElementById('routeDirections');
            
            // Update summary
            routeSummary.innerHTML = `
                <div class="route-stat">
                    <div class="route-stat-value">${route.data.distance}</div>
                    <div class="route-stat-label">Distance</div>
                </div>
                <div class="route-stat">
                    <div class="route-stat-value">${route.data.duration}</div>
                    <div class="route-stat-label">Duration</div>
                </div>
                <div class="route-stat">
                    <div class="route-stat-value">${route.data.steps.length}</div>
                    <div class="route-stat-label">Steps</div>
                </div>
                <div class="route-stat">
                    <div class="route-stat-value">${route.mode}</div>
                    <div class="route-stat-label">Mode</div>
                </div>
            `;
            
            // Update directions
            routeDirections.innerHTML = '';
            route.data.steps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'direction-step';
                stepElement.innerHTML = `
                    <div class="step-number">${index + 1}</div>
                    <div class="step-content">
                        <div class="step-instruction">${step.instruction}</div>
                        <div class="step-distance">${step.distance}</div>
                    </div>
                `;
                routeDirections.appendChild(stepElement);
            });
            
            // Show route info
            document.getElementById('routeInfo').style.display = 'block';
        }

        function clearRoute() {
            document.getElementById('startLocation').value = '';
            document.getElementById('endLocation').value = '';
            document.getElementById('travelMode').value = 'driving';
            document.getElementById('avoidTolls').value = '';
            
            document.getElementById('mapSection').style.display = 'none';
            currentRoute = null;
        }

        function saveRoute() {
            if (!currentRoute) {
                alert('Please generate a route first.');
                return;
            }
            
            const name = prompt('Enter a name for this route:');
            if (!name) return;
            
            currentRoute.name = name;
            routeHistory.unshift(currentRoute);
            
            // Keep only last 20 routes
            if (routeHistory.length > 20) {
                routeHistory = routeHistory.slice(0, 20);
            }
            
            localStorage.setItem('routeHistory', JSON.stringify(routeHistory));
            renderHistory();
            updateStats();
            
            alert('Route saved successfully!');
        }

        function loadTemplate(templateType) {
            const templates = {
                commute: {
                    start: 'Home',
                    end: 'Work',
                    mode: 'driving',
                    avoid: ''
                },
                roadtrip: {
                    start: 'Current Location',
                    end: 'Destination City',
                    mode: 'driving',
                    avoid: 'tolls'
                },
                shopping: {
                    start: 'Home',
                    end: 'Shopping Center',
                    mode: 'driving',
                    avoid: ''
                },
                exercise: {
                    start: 'Home',
                    end: 'Park',
                    mode: 'walking',
                    avoid: ''
                }
            };
            
            const template = templates[templateType];
            if (template) {
                document.getElementById('startLocation').value = template.start;
                document.getElementById('endLocation').value = template.end;
                document.getElementById('travelMode').value = template.mode;
                document.getElementById('avoidTolls').value = template.avoid;
            }
        }

        // Tool functions
        function calculateTravelTime() {
            if (!currentRoute) {
                alert('Please generate a route first.');
                return;
            }
            
            const times = ['Morning (7-9 AM)', 'Midday (11 AM-2 PM)', 'Afternoon (3-6 PM)', 'Evening (6-8 PM)', 'Night (8-11 PM)'];
            const randomTime = times[Math.floor(Math.random() * times.length)];
            const baseTime = parseInt(currentRoute.data.duration);
            const trafficFactor = Math.random() * 0.5 + 0.75; // 0.75 to 1.25
            const adjustedTime = Math.round(baseTime * trafficFactor);
            
            alert(`Travel Time for ${randomTime}:\n\nBase time: ${baseTime} minutes\nTraffic adjustment: ${Math.round((trafficFactor - 1) * 100)}%\nEstimated time: ${adjustedTime} minutes`);
        }

        function estimateFuelCost() {
            if (!currentRoute) {
                alert('Please generate a route first.');
                return;
            }
            
            const distance = parseFloat(currentRoute.data.distance);
            const mpg = 25; // Average MPG
            const fuelPrice = 3.50; // Average fuel price per gallon
            const gallons = distance / mpg;
            const cost = gallons * fuelPrice;
            
            alert(`Fuel Cost Estimate:\n\nDistance: ${distance} miles\nMPG: ${mpg}\nFuel needed: ${gallons.toFixed(2)} gallons\nCost: $${cost.toFixed(2)}`);
        }

        function findRestStops() {
            if (!currentRoute) {
                alert('Please generate a route first.');
                return;
            }
            
            const stops = [
                'Gas Station - 2.3 miles from start',
                'Restaurant - 5.1 miles from start',
                'Rest Area - 8.7 miles from start',
                'Convenience Store - 12.4 miles from start'
            ];
            
            alert(`Rest Stops Along Your Route:\n\n${stops.join('\n')}\n\nThese are approximate locations based on your route.`);
        }

        function checkWeather() {
            if (!currentRoute) {
                alert('Please generate a route first.');
                return;
            }
            
            const conditions = ['Sunny', 'Partly Cloudy', 'Cloudy', 'Light Rain', 'Clear'];
            const temperatures = ['65°F', '72°F', '58°F', '45°F', '78°F'];
            
            const randomCondition = conditions[Math.floor(Math.random() * conditions.length)];
            const randomTemp = temperatures[Math.floor(Math.random() * temperatures.length)];
            
            alert(`Weather Along Your Route:\n\nCondition: ${randomCondition}\nTemperature: ${randomTemp}\n\nWeather conditions may vary along your route. Check local forecasts for accurate information.`);
        }

        function renderHistory() {
            const historyGrid = document.getElementById('historyGrid');
            historyGrid.innerHTML = '';
            
            if (routeHistory.length === 0) {
                historyGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-secondary);">
                        <i class="fas fa-route" style="font-size: 3rem; margin-bottom: 20px; display: block;"></i>
                        <h3>No routes yet</h3>
                        <p>Create and save your first route to see it here!</p>
                    </div>
                `;
                return;
            }
            
            routeHistory.forEach(route => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.onclick = () => loadRoute(route);
                
                historyItem.innerHTML = `
                    <div class="history-route">${route.name || 'Unnamed Route'}</div>
                    <div class="history-details">
                        <strong>${route.start}</strong> → <strong>${route.end}</strong><br>
                        ${route.data ? route.data.distance + ' • ' + route.data.duration : 'Route data not available'}<br>
                        Mode: ${route.mode}
                    </div>
                    <div class="history-meta">
                        <span class="history-mode">${route.mode}</span>
                        <span>${new Date(route.createdAt).toLocaleDateString()}</span>
                    </div>
                `;
                
                historyGrid.appendChild(historyItem);
            });
        }

        function loadRoute(route) {
            if (confirm('Loading this route will clear your current one. Continue?')) {
                currentRoute = { ...route };
                document.getElementById('startLocation').value = route.start;
                document.getElementById('endLocation').value = route.end;
                document.getElementById('travelMode').value = route.mode;
                document.getElementById('avoidTolls').value = route.avoid || '';
                
                document.getElementById('mapSection').style.display = 'block';
                updateMapDisplay(currentRoute);
                updateRouteInfo(currentRoute);
            }
        }

        function updateStats() {
            routeStats.totalRoutes = routeHistory.length;
            
            if (routeHistory.length > 0) {
                routeStats.totalDistance = routeHistory.reduce((total, route) => {
                    if (route.data && route.data.distance) {
                        const distance = parseFloat(route.data.distance);
                        return total + distance;
                    }
                    return total;
                }, 0);
                
                routeStats.totalTime = routeHistory.reduce((total, route) => {
                    if (route.data && route.data.duration) {
                        const duration = parseInt(route.data.duration);
                        return total + duration;
                    }
                    return total;
                }, 0) / 60; // Convert minutes to hours
            }
            
            document.getElementById('totalRoutes').textContent = routeStats.totalRoutes;
            document.getElementById('totalDistance').textContent = Math.round(routeStats.totalDistance);
            document.getElementById('totalTime').textContent = Math.round(routeStats.totalTime);
            document.getElementById('favoriteRoutes').textContent = routeStats.favoriteRoutes;
            
            localStorage.setItem('routeStats', JSON.stringify(routeStats));
        }
    </script>
</body>
</html>
