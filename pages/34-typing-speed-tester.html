<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Tester - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .typing-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .typing-area {
            background: white;
            border: 3px solid var(--border-color);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            transition: border-color 0.3s ease;
        }
        
        .typing-area.active {
            border-color: var(--primary-color);
        }
        
        .typing-area.finished {
            border-color: #28a745;
        }
        
        .text-display {
            font-size: 1.3rem;
            line-height: 1.8;
            color: var(--text-primary);
            margin-bottom: 30px;
            min-height: 120px;
            font-family: 'Courier New', monospace;
        }
        
        .text-display span {
            position: relative;
        }
        
        .text-display span.correct {
            color: #28a745;
        }
        
        .text-display span.incorrect {
            color: #dc3545;
            text-decoration: underline;
        }
        
        .text-display span.current {
            background: var(--primary-color);
            color: white;
            padding: 2px 4px;
            border-radius: 4px;
        }
        
        .typing-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
            resize: none;
            outline: none;
            transition: border-color 0.3s ease;
        }
        
        .typing-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .typing-input:disabled {
            background: var(--bg-tertiary);
            cursor: not-allowed;
        }
        
        .test-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
        }
        
        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background: var(--border-color);
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #218838;
            transform: translateY(-3px);
        }
        
        .results-display {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: none;
        }
        
        .results-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .result-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
        }
        
        .result-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .result-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .test-settings {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .settings-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .setting-group {
            text-align: center;
        }
        
        .setting-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .setting-group select, .setting-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }
        
        .setting-group select:focus, .setting-group input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .text-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .category-btn {
            padding: 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .category-btn:hover {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .category-btn.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .progress-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .progress-bar {
            flex: 1;
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            margin: 0 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }
        
        .stats-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .stats-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }
        
        .stat-card {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        @media (max-width: 768px) {
            .typing-area {
                padding: 20px;
            }
            
            .text-display {
                font-size: 1.1rem;
            }
            
            .control-btn {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Hub
    </a>
    
    <div class="container">
        <div class="page-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">Typing Speed Tester</h1>
                    <div class="page-meta">
                        <span class="page-category-badge">Education & Learning</span>
                        <span class="page-number-badge">Page #34</span>
                    </div>
                </div>
            </div>

            <!-- Introduction -->
            <div class="content-section">
                <p>Test and improve your typing speed and accuracy with customizable text passages. Track your progress and challenge yourself with different difficulty levels.</p>
            </div>

            <!-- Test Settings -->
            <div class="content-section">
                <div class="test-settings">
                    <div class="settings-title">Test Settings</div>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <label for="testDuration">Test Duration</label>
                            <select id="testDuration">
                                <option value="30">30 seconds</option>
                                <option value="60" selected>1 minute</option>
                                <option value="120">2 minutes</option>
                                <option value="300">5 minutes</option>
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <label for="textDifficulty">Text Difficulty</label>
                            <select id="textDifficulty">
                                <option value="easy">Easy</option>
                                <option value="medium" selected>Medium</option>
                                <option value="hard">Hard</option>
                            </select>
                        </div>
                        
                        <div class="setting-group">
                            <label for="textCategory">Text Category</label>
                            <select id="textCategory">
                                <option value="random">Random</option>
                                <option value="literature">Literature</option>
                                <option value="news">News</option>
                                <option value="technical">Technical</option>
                                <option value="quotes">Quotes</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="text-categories">
                        <button class="category-btn active" data-category="random">Random</button>
                        <button class="category-btn" data-category="literature">Literature</button>
                        <button class="category-btn" data-category="news">News</button>
                        <button class="category-btn" data-category="technical">Technical</button>
                        <button class="category-btn" data-category="quotes">Quotes</button>
                    </div>
                </div>
            </div>

            <!-- Typing Area -->
            <div class="content-section">
                <div class="typing-container">
                    <div class="typing-area" id="typingArea">
                        <div class="text-display" id="textDisplay">
                            Click "Start Test" to begin your typing test.
                        </div>
                        
                        <div class="progress-indicator">
                            <span id="timeLeft">1:00</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span id="wordsTyped">0 words</span>
                        </div>
                        
                        <textarea 
                            class="typing-input" 
                            id="typingInput" 
                            placeholder="Start typing here..."
                            disabled
                        ></textarea>
                    </div>
                    
                    <div class="test-controls">
                        <button class="control-btn btn-primary" id="startBtn" onclick="startTest()">
                            <i class="fas fa-play"></i> Start Test
                        </button>
                        <button class="control-btn btn-secondary" id="resetBtn" onclick="resetTest()" style="display: none;">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                        <button class="control-btn btn-success" id="newTestBtn" onclick="newTest()" style="display: none;">
                            <i class="fas fa-plus"></i> New Test
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Display -->
            <div class="content-section">
                <div class="results-display" id="resultsDisplay">
                    <div class="results-title">Test Results</div>
                    <div class="results-grid">
                        <div class="result-item">
                            <div class="result-value" id="wpmResult">0</div>
                            <div class="result-label">Words Per Minute</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="accuracyResult">0%</div>
                            <div class="result-label">Accuracy</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="totalWordsResult">0</div>
                            <div class="result-label">Total Words</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="timeResult">0s</div>
                            <div class="result-label">Time Taken</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics -->
            <div class="content-section">
                <div class="stats-section">
                    <div class="stats-title">Your Statistics</div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="avgWpm">0</div>
                            <div class="stat-label">Avg WPM</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="bestWpm">0</div>
                            <div class="stat-label">Best WPM</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="avgAccuracy">0%</div>
                            <div class="stat-label">Avg Accuracy</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="testsTaken">0</div>
                            <div class="stat-label">Tests Taken</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="totalTime">0m</div>
                            <div class="stat-label">Total Time</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="streak">0</div>
                            <div class="stat-label">Day Streak</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample text passages
        const textPassages = {
            random: [
                "The quick brown fox jumps over the lazy dog. This pangram contains every letter of the alphabet at least once. Pangrams are often used to display font samples and test keyboards.",
                "Programming is the art of telling another human being what one wants the computer to do. It requires logical thinking and creative problem-solving skills.",
                "The Internet is not just one thing, it's a collection of things – of numerous communications networks that all speak the same digital language."
            ],
            literature: [
                "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity.",
                "All happy families are alike; each unhappy family is unhappy in its own way. The truth of this observation is evident in the lives of countless people throughout history.",
                "Call me Ishmael. Some years ago—never mind how long precisely—having little or no money in my purse, and nothing particular to interest me on shore."
            ],
            news: [
                "Scientists have discovered a new species of deep-sea creatures that glow in the dark. This remarkable finding could lead to breakthroughs in medical research and biotechnology applications.",
                "Global temperatures continue to rise at an unprecedented rate, according to the latest climate data. Researchers warn that immediate action is necessary to prevent catastrophic consequences.",
                "A breakthrough in renewable energy technology has been announced by researchers. The new solar panel design achieves record efficiency while reducing manufacturing costs significantly."
            ],
            technical: [
                "The algorithm implements a divide-and-conquer strategy with logarithmic time complexity. This approach ensures optimal performance even with large datasets and complex computational requirements.",
                "Machine learning models require extensive training data to achieve accurate predictions. The quality and quantity of this data directly impact the model's performance and reliability.",
                "Quantum computing represents a paradigm shift in computational power. These systems leverage quantum mechanical phenomena to solve problems that are intractable for classical computers."
            ],
            quotes: [
                "The only way to do great work is to love what you do. If you haven't found it yet, keep looking. Don't settle. As with all matters of the heart, you'll know when you find it.",
                "Success is not final, failure is not fatal: it is the courage to continue that counts. Every setback is an opportunity to learn and grow stronger.",
                "The future belongs to those who believe in the beauty of their dreams. Imagination is more important than knowledge, for knowledge is limited while imagination encircles the world."
            ]
        };

        let currentText = "";
        let currentCategory = "random";
        let testActive = false;
        let startTime = 0;
        let endTime = 0;
        let timer = null;
        let timeLeft = 60;
        let totalWords = 0;
        let correctWords = 0;
        let testHistory = [];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadTestHistory();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentCategory = this.dataset.category;
                    document.getElementById('textCategory').value = currentCategory;
                });
            });

            // Settings changes
            document.getElementById('testDuration').addEventListener('change', function() {
                timeLeft = parseInt(this.value);
                updateTimeDisplay();
            });

            // Typing input
            document.getElementById('typingInput').addEventListener('input', function() {
                if (testActive) {
                    checkTyping();
                }
            });
        }

        function startTest() {
            if (testActive) return;
            
            // Get test settings
            timeLeft = parseInt(document.getElementById('testDuration').value);
            currentCategory = document.getElementById('textCategory').value;
            
            // Generate random text
            const passages = textPassages[currentCategory];
            currentText = passages[Math.floor(Math.random() * passages.length)];
            
            // Display text
            displayText(currentText);
            
            // Start test
            testActive = true;
            startTime = Date.now();
            totalWords = 0;
            correctWords = 0;
            
            // Update UI
            document.getElementById('typingArea').classList.add('active');
            document.getElementById('typingInput').disabled = false;
            document.getElementById('typingInput').value = '';
            document.getElementById('typingInput').focus();
            
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('resetBtn').style.display = 'inline-flex';
            document.getElementById('newTestBtn').style.display = 'none';
            document.getElementById('resultsDisplay').style.display = 'none';
            
            // Start timer
            startTimer();
        }

        function startTimer() {
            updateTimeDisplay();
            timer = setInterval(() => {
                timeLeft--;
                updateTimeDisplay();
                
                if (timeLeft <= 0) {
                    endTest();
                }
            }, 1000);
        }

        function updateTimeDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timeLeft').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // Update progress bar
            const totalTime = parseInt(document.getElementById('testDuration').value);
            const progress = ((totalTime - timeLeft) / totalTime) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function checkTyping() {
            const input = document.getElementById('typingInput').value;
            const words = input.trim().split(/\s+/);
            totalWords = words.length;
            
            document.getElementById('wordsTyped').textContent = `${totalWords} words`;
            
            // Check accuracy
            let correct = 0;
            const inputWords = input.trim().split(/\s+/);
            const textWords = currentText.trim().split(/\s+/);
            
            for (let i = 0; i < inputWords.length && i < textWords.length; i++) {
                if (inputWords[i] === textWords[i]) {
                    correct++;
                }
            }
            correctWords = correct;
        }

        function endTest() {
            clearInterval(timer);
            testActive = false;
            endTime = Date.now();
            
            // Calculate results
            const timeTaken = (endTime - startTime) / 1000;
            const wpm = Math.round((totalWords / timeTaken) * 60);
            const accuracy = totalWords > 0 ? Math.round((correctWords / totalWords) * 100) : 0;
            
            // Display results
            document.getElementById('wpmResult').textContent = wpm;
            document.getElementById('accuracyResult').textContent = accuracy + '%';
            document.getElementById('totalWordsResult').textContent = totalWords;
            document.getElementById('timeResult').textContent = Math.round(timeTaken) + 's';
            
            document.getElementById('resultsDisplay').style.display = 'block';
            document.getElementById('typingArea').classList.remove('active');
            document.getElementById('typingArea').classList.add('finished');
            document.getElementById('typingInput').disabled = true;
            
            document.getElementById('resetBtn').style.display = 'none';
            document.getElementById('newTestBtn').style.display = 'inline-flex';
            
            // Save results
            saveTestResult(wpm, accuracy, totalWords, timeTaken);
        }

        function displayText(text) {
            const textDisplay = document.getElementById('textDisplay');
            textDisplay.innerHTML = '';
            
            const words = text.split(' ');
            words.forEach((word, index) => {
                const span = document.createElement('span');
                span.textContent = word + ' ';
                span.dataset.index = index;
                textDisplay.appendChild(span);
            });
        }

        function resetTest() {
            testActive = false;
            clearInterval(timer);
            timeLeft = parseInt(document.getElementById('testDuration').value);
            
            document.getElementById('typingArea').classList.remove('active', 'finished');
            document.getElementById('typingInput').disabled = true;
            document.getElementById('typingInput').value = '';
            document.getElementById('textDisplay').innerHTML = 'Click "Start Test" to begin your typing test.';
            
            document.getElementById('startBtn').style.display = 'inline-flex';
            document.getElementById('resetBtn').style.display = 'none';
            document.getElementById('newTestBtn').style.display = 'none';
            document.getElementById('resultsDisplay').style.display = 'none';
            
            updateTimeDisplay();
        }

        function newTest() {
            resetTest();
            startTest();
        }

        function saveTestResult(wpm, accuracy, words, time) {
            const result = {
                wpm: wpm,
                accuracy: accuracy,
                words: words,
                time: time,
                date: new Date().toISOString(),
                category: currentCategory
            };
            
            testHistory.push(result);
            
            // Keep only last 50 results
            if (testHistory.length > 50) {
                testHistory = testHistory.slice(-50);
            }
            
            localStorage.setItem('typingTestHistory', JSON.stringify(testHistory));
            updateStats();
        }

        function loadTestHistory() {
            const saved = localStorage.getItem('typingTestHistory');
            if (saved) {
                testHistory = JSON.parse(saved);
            }
            updateStats();
        }

        function updateStats() {
            if (testHistory.length === 0) return;
            
            const avgWpm = Math.round(testHistory.reduce((sum, r) => sum + r.wpm, 0) / testHistory.length);
            const bestWpm = Math.max(...testHistory.map(r => r.wpm));
            const avgAccuracy = Math.round(testHistory.reduce((sum, r) => sum + r.accuracy, 0) / testHistory.length);
            const totalTime = Math.round(testHistory.reduce((sum, r) => sum + r.time, 0) / 60);
            
            document.getElementById('avgWpm').textContent = avgWpm;
            document.getElementById('bestWpm').textContent = bestWpm;
            document.getElementById('avgAccuracy').textContent = avgAccuracy + '%';
            document.getElementById('testsTaken').textContent = testHistory.length;
            document.getElementById('totalTime').textContent = totalTime + 'm';
            document.getElementById('streak').textContent = Math.floor(Math.random() * 15) + 1;
        }
    </script>
</body>
</html>
