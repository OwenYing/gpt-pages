<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T69M8TNFWB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T69M8TNFWB');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packing Checklist Generator - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        .packing-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .setup-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .setup-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-group {
            text-align: center;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .generate-btn {
            padding: 15px 30px;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 auto;
        }
        
        .generate-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        

        
        .checklist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .checklist-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .checklist-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .action-btn:hover {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .action-btn.primary {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .action-btn.primary:hover {
            background: var(--primary-dark);
        }
        
        .checklist-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .category-section {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
        }
        
        .category-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .checklist-items {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .checklist-item:last-child {
            border-bottom: none;
        }
        
        .checklist-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }
        
        .checklist-item label {
            flex: 1;
            cursor: pointer;
            font-size: 0.95rem;
            color: var(--text-primary);
        }
        
        .checklist-item.checked label {
            text-decoration: line-through;
            color: var(--text-secondary);
        }
        

        
        .add-item-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .add-item-form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .add-item-btn {
            padding: 12px 24px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 auto;
        }
        
        .add-item-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        

        
        .templates-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .template-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .template-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .template-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .template-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .template-preview {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            max-height: 80px;
            overflow: hidden;
        }
        
        .packing-stats {
            text-align: center;
        }
        
        .stats-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        

        
        .history-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .history-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .history-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .history-trip {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .history-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .history-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .history-type {
            background: var(--primary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 10px;
        }
        
        @media (max-width: 768px) {
            .setup-form {
                grid-template-columns: 1fr;
            }
            
            .checklist-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .checklist-actions {
                justify-content: center;
            }
            
            .checklist-categories {
                grid-template-columns: 1fr;
            }
            
            .add-item-form-grid {
                grid-template-columns: 1fr;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .history-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="individual-page">
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Hub
    </a>
    
    <div class="container">
        <div class="page-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">Packing Checklist Generator</h1>
                    <div class="page-meta">
                        <span class="page-category-badge">Travel & Navigation</span>
                        <span class="page-number-badge">Page #52</span>
                    </div>
                </div>
            </div>

            <!-- Introduction -->
            <div class="content-section">
                <p>Generate customized packing checklists for any type of trip! Whether you're heading to the beach, mountains, city, or abroad, our smart generator creates comprehensive lists based on your destination, duration, and travel style. Never forget essential items again!</p>
            </div>

            <!-- Trip Setup -->
            <div class="content-section">
                <div class="trip-setup">
                    <div class="setup-title">Plan Your Trip</div>
                    
                    <div class="setup-form">
                        <div class="form-group">
                            <label for="tripType">Trip Type</label>
                            <select id="tripType">
                                <option value="beach">Beach Vacation</option>
                                <option value="mountain">Mountain/Outdoor</option>
                                <option value="city">City Break</option>
                                <option value="business">Business Trip</option>
                                <option value="camping">Camping</option>
                                <option value="cruise">Cruise</option>
                                <option value="international">International Travel</option>
                                <option value="road-trip">Road Trip</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="tripDuration">Duration</label>
                            <select id="tripDuration">
                                <option value="weekend">Weekend (1-3 days)</option>
                                <option value="week">Week (4-7 days)</option>
                                <option value="extended">Extended (1-2 weeks)</option>
                                <option value="month">Month+ (3+ weeks)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="destination">Destination</label>
                            <input type="text" id="destination" placeholder="e.g., Paris, Beach Resort, Mountain Cabin">
                        </div>
                        
                        <div class="form-group">
                            <label for="season">Season</label>
                            <select id="season">
                                <option value="spring">Spring</option>
                                <option value="summer">Summer</option>
                                <option value="fall">Fall</option>
                                <option value="winter">Winter</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="generate-btn" onclick="generateChecklist()">
                        <i class="fas fa-magic"></i> Generate Packing List
                    </button>
                </div>
            </div>

            <!-- Checklist Display -->
            <div class="content-section" id="checklistSection" style="display: none;">
                <div class="checklist-display">
                    <div class="checklist-header">
                        <div class="checklist-title" id="checklistTitle">Your Packing Checklist</div>
                        <div class="checklist-actions">
                            <button class="action-btn" onclick="printChecklist()">
                                <i class="fas fa-print"></i> Print
                            </button>
                            <button class="action-btn" onclick="exportChecklist()">
                                <i class="fas fa-download"></i> Export
                            </button>
                            <button class="action-btn primary" onclick="saveChecklist()">
                                <i class="fas fa-save"></i> Save
                            </button>
                        </div>
                    </div>
                    
                    <div class="checklist-categories" id="checklistCategories">
                        <!-- Categories will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Add Custom Items -->
            <div class="content-section">
                <div class="add-item-form">
                    <div class="add-item-title">Add Custom Items</div>
                    
                    <div class="add-item-form-grid">
                        <div class="form-group">
                            <label for="customCategory">Category</label>
                            <select id="customCategory">
                                <option value="clothing">Clothing</option>
                                <option value="toiletries">Toiletries</option>
                                <option value="electronics">Electronics</option>
                                <option value="documents">Documents</option>
                                <option value="accessories">Accessories</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="customItem">Item Name</label>
                            <input type="text" id="customItem" placeholder="e.g., Travel adapter, Extra socks">
                        </div>
                        
                        <div class="form-group">
                            <label for="customQuantity">Quantity</label>
                            <input type="number" id="customQuantity" value="1" min="1" max="10">
                        </div>
                    </div>
                    
                    <button class="add-item-btn" onclick="addCustomItem()">
                        <i class="fas fa-plus"></i> Add Item
                    </button>
                </div>
            </div>

            <!-- Packing Templates -->
            <div class="content-section">
                <div class="packing-templates">
                    <div class="templates-title">Quick Templates</div>
                    
                    <div class="templates-grid">
                        <div class="template-item" onclick="loadTemplate('beach')">
                            <div class="template-name">Beach Essentials</div>
                            <div class="template-description">Perfect for beach vacations with sun protection and beach gear.</div>
                            <div class="template-preview">Sunscreen, swimsuit, beach towel, hat, sunglasses, beach bag...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('business')">
                            <div class="template-name">Business Travel</div>
                            <div class="template-description">Professional attire and business essentials for work trips.</div>
                            <div class="template-preview">Suit, laptop, charger, business cards, travel documents...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('camping')">
                            <div class="template-name">Camping Gear</div>
                            <div class="template-description">Outdoor essentials for camping and wilderness adventures.</div>
                            <div class="template-preview">Tent, sleeping bag, flashlight, first aid kit, water bottle...</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('international')">
                            <div class="template-name">International Travel</div>
                            <div class="template-description">Essential items for traveling abroad and different cultures.</div>
                            <div class="template-preview">Passport, visa, adapter, local currency, travel insurance...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Packing Statistics -->
            <div class="content-section">
                <div class="packing-stats">
                    <div class="stats-title">Your Packing Journey</div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="totalTrips">0</div>
                            <div class="stat-label">Trips Planned</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalItems">0</div>
                            <div class="stat-label">Items Packed</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="completedTrips">0</div>
                            <div class="stat-label">Trips Completed</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="favoriteDestinations">0</div>
                            <div class="stat-label">Destinations</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Packing History -->
            <div class="content-section">
                <div class="packing-history">
                    <div class="history-title">Recent Packing Lists</div>
                    
                    <div class="history-grid" id="historyGrid">
                        <!-- History items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentChecklist = null;
        let packingHistory = JSON.parse(localStorage.getItem('packingHistory')) || [];
        let packingStats = JSON.parse(localStorage.getItem('packingStats')) || {
            totalTrips: 0,
            totalItems: 0,
            completedTrips: 0,
            favoriteDestinations: 0
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            renderHistory();
        });

        function generateChecklist() {
            const tripType = document.getElementById('tripType').value;
            const tripDuration = document.getElementById('tripDuration').value;
            const destination = document.getElementById('destination').value.trim();
            const season = document.getElementById('season').value;
            
            if (!destination) {
                alert('Please enter a destination for your trip.');
                return;
            }
            
            currentChecklist = createChecklist(tripType, tripDuration, destination, season);
            displayChecklist(currentChecklist);
            document.getElementById('checklistSection').style.display = 'block';
            
            // Scroll to checklist
            document.getElementById('checklistSection').scrollIntoView({ behavior: 'smooth' });
        }

        function createChecklist(type, duration, destination, season) {
            const checklist = {
                id: Date.now(),
                tripType: type,
                duration: duration,
                destination: destination,
                season: season,
                createdAt: Date.now(),
                categories: {}
            };
            
            // Base categories
            const baseCategories = {
                clothing: getClothingItems(type, duration, season),
                toiletries: getToiletryItems(duration),
                electronics: getElectronicsItems(type),
                documents: getDocumentItems(type),
                accessories: getAccessoryItems(type, season)
            };
            
            // Add specific items based on trip type
            if (type === 'beach') {
                baseCategories.beach = getBeachItems(duration);
            } else if (type === 'mountain') {
                baseCategories.outdoor = getOutdoorItems(duration, season);
            } else if (type === 'business') {
                baseCategories.business = getBusinessItems(duration);
            } else if (type === 'camping') {
                baseCategories.camping = getCampingItems(duration);
            } else if (type === 'international') {
                baseCategories.international = getInternationalItems();
            }
            
            checklist.categories = baseCategories;
            return checklist;
        }

        function getClothingItems(type, duration, season) {
            const items = ['Underwear', 'Socks', 'Pajamas'];
            
            if (season === 'summer') {
                items.push('T-shirts', 'Shorts', 'Summer dress', 'Sandals', 'Hat');
            } else if (season === 'winter') {
                items.push('Warm jacket', 'Sweaters', 'Long pants', 'Boots', 'Gloves', 'Scarf');
            } else if (season === 'spring' || season === 'fall') {
                items.push('Light jacket', 'Long-sleeve shirts', 'Jeans', 'Comfortable shoes');
            }
            
            if (type === 'business') {
                items.push('Business suit', 'Dress shirts', 'Ties', 'Dress shoes');
            }
            
            if (duration === 'month') {
                items.push('Extra clothing', 'Laundry supplies');
            }
            
            return items;
        }

        function getToiletryItems(duration) {
            const items = ['Toothbrush', 'Toothpaste', 'Deodorant', 'Shampoo', 'Soap', 'Hairbrush'];
            
            if (duration === 'weekend') {
                items.push('Travel-size items');
            } else {
                items.push('Full-size items', 'Extra supplies');
            }
            
            return items;
        }

        function getElectronicsItems(type) {
            const items = ['Phone charger', 'Phone'];
            
            if (type === 'business') {
                items.push('Laptop', 'Laptop charger', 'Business cards');
            }
            
            if (type === 'international') {
                items.push('Travel adapter', 'Power bank');
            }
            
            return items;
        }

        function getDocumentItems(type) {
            const items = ['ID/Driver\'s license', 'Credit cards', 'Cash'];
            
            if (type === 'international') {
                items.push('Passport', 'Visa', 'Travel insurance', 'Vaccination records');
            }
            
            if (type === 'business') {
                items.push('Business documents', 'Meeting schedule');
            }
            
            return items;
        }

        function getAccessoryItems(type, season) {
            const items = ['Wallet', 'Keys'];
            
            if (season === 'summer') {
                items.push('Sunglasses', 'Sunscreen');
            } else if (season === 'winter') {
                items.push('Winter accessories');
            }
            
            if (type === 'travel') {
                items.push('Travel pillow', 'Earplugs', 'Eye mask');
            }
            
            return items;
        }

        function getBeachItems(duration) {
            return ['Swimsuit', 'Beach towel', 'Beach bag', 'Sunscreen', 'Beach umbrella', 'Beach toys'];
        }

        function getOutdoorItems(duration, season) {
            const items = ['Hiking boots', 'Backpack', 'Water bottle', 'First aid kit'];
            
            if (season === 'winter') {
                items.push('Winter gear', 'Thermal clothing');
            }
            
            return items;
        }

        function getBusinessItems(duration) {
            return ['Business attire', 'Professional shoes', 'Portfolio', 'Notebook', 'Pens'];
        }

        function getCampingItems(duration) {
            return ['Tent', 'Sleeping bag', 'Camping stove', 'Flashlight', 'Matches', 'Camping chair'];
        }

        function getInternationalItems() {
            return ['Passport', 'Visa', 'Travel insurance', 'Local currency', 'Travel guide', 'Language phrasebook'];
        }

        function displayChecklist(checklist) {
            const title = document.getElementById('checklistTitle');
            title.textContent = `Packing List: ${checklist.destination}`;
            
            const categoriesContainer = document.getElementById('checklistCategories');
            categoriesContainer.innerHTML = '';
            
            Object.entries(checklist.categories).forEach(([categoryName, items]) => {
                const categorySection = document.createElement('div');
                categorySection.className = 'category-section';
                
                const categoryTitle = document.createElement('div');
                categoryTitle.className = 'category-title';
                categoryTitle.innerHTML = `
                    <i class="fas fa-${getCategoryIcon(categoryName)}"></i>
                    ${getCategoryDisplayName(categoryName)}
                `;
                
                const itemsList = document.createElement('ul');
                itemsList.className = 'checklist-items';
                
                items.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.className = 'checklist-item';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.id = `item-${Date.now()}-${Math.random()}`;
                    checkbox.addEventListener('change', function() {
                        listItem.classList.toggle('checked', this.checked);
                    });
                    
                    const label = document.createElement('label');
                    label.htmlFor = checkbox.id;
                    label.textContent = item;
                    
                    listItem.appendChild(checkbox);
                    listItem.appendChild(label);
                    itemsList.appendChild(listItem);
                });
                
                categorySection.appendChild(categoryTitle);
                categorySection.appendChild(itemsList);
                categoriesContainer.appendChild(categorySection);
            });
        }

        function getCategoryIcon(category) {
            const icons = {
                clothing: 'tshirt',
                toiletries: 'soap',
                electronics: 'mobile-alt',
                documents: 'file-alt',
                accessories: 'star',
                beach: 'umbrella-beach',
                outdoor: 'mountain',
                business: 'briefcase',
                camping: 'campground',
                international: 'globe'
            };
            return icons[category] || 'tag';
        }

        function getCategoryDisplayName(category) {
            const names = {
                clothing: 'Clothing',
                toiletries: 'Toiletries',
                electronics: 'Electronics',
                documents: 'Documents',
                accessories: 'Accessories',
                beach: 'Beach Items',
                outdoor: 'Outdoor Gear',
                business: 'Business Items',
                camping: 'Camping Gear',
                international: 'Travel Documents'
            };
            return names[category] || category.charAt(0).toUpperCase() + category.slice(1);
        }

        function addCustomItem() {
            if (!currentChecklist) {
                alert('Please generate a checklist first.');
                return;
            }
            
            const category = document.getElementById('customCategory').value;
            const item = document.getElementById('customItem').value.trim();
            const quantity = parseInt(document.getElementById('customQuantity').value);
            
            if (!item) {
                alert('Please enter an item name.');
                return;
            }
            
            if (!currentChecklist.categories[category]) {
                currentChecklist.categories[category] = [];
            }
            
            for (let i = 0; i < quantity; i++) {
                currentChecklist.categories[category].push(item);
            }
            
            displayChecklist(currentChecklist);
            document.getElementById('customItem').value = '';
            document.getElementById('customQuantity').value = 1;
        }

        function printChecklist() {
            if (!currentChecklist) return;
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                    <head>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T69M8TNFWB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T69M8TNFWB');
    </script>
                        <title>Packing List - ${currentChecklist.destination}</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            .header { text-align: center; margin-bottom: 30px; }
                            .category { margin-bottom: 20px; }
                            .category-title { font-weight: bold; font-size: 18px; margin-bottom: 10px; }
                            .item { margin: 5px 0; }
                            .checkbox { margin-right: 10px; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>Packing List</h1>
                            <h2>${currentChecklist.destination}</h2>
                            <p>${currentChecklist.tripType} • ${currentChecklist.duration} • ${currentChecklist.season}</p>
                        </div>
            `);
            
            Object.entries(currentChecklist.categories).forEach(([category, items]) => {
                printWindow.document.write(`
                    <div class="category">
                        <div class="category-title">${getCategoryDisplayName(category)}</div>
                        ${items.map(item => `
                            <div class="item">
                                <span class="checkbox">☐</span>${item}
                            </div>
                        `).join('')}
                    </div>
                `);
            });
            
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        }

        function exportChecklist() {
            if (!currentChecklist) return;
            
            const exportData = {
                checklist: currentChecklist,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `packing-list-${currentChecklist.destination.replace(/\s+/g, '-')}.json`;
            link.click();
        }

        function saveChecklist() {
            if (!currentChecklist) return;
            
            const name = prompt('Enter a name for this packing list:');
            if (!name) return;
            
            currentChecklist.name = name;
            packingHistory.unshift(currentChecklist);
            
            // Keep only last 20 lists
            if (packingHistory.length > 20) {
                packingHistory = packingHistory.slice(0, 20);
            }
            
            localStorage.setItem('packingHistory', JSON.stringify(packingHistory));
            renderHistory();
            updateStats();
            
            alert('Packing list saved successfully!');
        }

        function loadTemplate(templateType) {
            if (confirm('Loading a template will clear your current checklist. Continue?')) {
                document.getElementById('tripType').value = templateType;
                document.getElementById('tripDuration').value = 'week';
                document.getElementById('season').value = 'summer';
                document.getElementById('destination').value = templateType === 'beach' ? 'Beach Resort' : 
                                                          templateType === 'business' ? 'Business Destination' :
                                                          templateType === 'camping' ? 'Camping Site' : 'International Destination';
                
                generateChecklist();
            }
        }

        function renderHistory() {
            const historyGrid = document.getElementById('historyGrid');
            historyGrid.innerHTML = '';
            
            if (packingHistory.length === 0) {
                historyGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-secondary);">
                        <i class="fas fa-suitcase" style="font-size: 3rem; margin-bottom: 20px; display: block;"></i>
                        <h3>No packing lists yet</h3>
                        <p>Create and save your first packing list to see it here!</p>
                    </div>
                `;
                return;
            }
            
            packingHistory.forEach(list => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.onclick = () => loadChecklist(list);
                
                const totalItems = Object.values(list.categories).flat().length;
                
                historyItem.innerHTML = `
                    <div class="history-trip">${list.name || list.destination}</div>
                    <div class="history-details">
                        <strong>${list.destination}</strong><br>
                        ${list.tripType} • ${list.duration} • ${list.season}<br>
                        ${totalItems} items
                    </div>
                    <div class="history-meta">
                        <span class="history-type">${list.tripType}</span>
                        <span>${new Date(list.createdAt).toLocaleDateString()}</span>
                    </div>
                `;
                
                historyGrid.appendChild(historyItem);
            });
        }

        function loadChecklist(list) {
            if (confirm('Loading this checklist will clear your current one. Continue?')) {
                currentChecklist = { ...list };
                displayChecklist(currentChecklist);
                document.getElementById('checklistSection').style.display = 'block';
            }
        }

        function updateStats() {
            packingStats.totalTrips = packingHistory.length;
            packingStats.totalItems = packingHistory.reduce((total, list) => {
                return total + Object.values(list.categories).flat().length;
            }, 0);
            
            document.getElementById('totalTrips').textContent = packingStats.totalTrips;
            document.getElementById('totalItems').textContent = packingStats.totalItems;
            document.getElementById('completedTrips').textContent = packingStats.completedTrips;
            document.getElementById('favoriteDestinations').textContent = packingStats.favoriteDestinations;
            
            localStorage.setItem('packingStats', JSON.stringify(packingStats));
        }
    </script>
</body>
</html>
