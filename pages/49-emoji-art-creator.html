<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Art Creator - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .art-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .art-canvas {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .canvas-display {
            background: var(--bg-tertiary);
            padding: 40px;
            border-radius: 15px;
            border: 3px solid var(--border-color);
            margin: 20px 0;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: monospace;
            white-space: pre;
            line-height: 1.2;
            overflow: auto;
        }
        
        .canvas-display.empty {
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .art-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .control-group {
            text-align: center;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .control-group input, .control-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }
        
        .art-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .art-btn {
            padding: 15px 30px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .art-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .art-btn.primary {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .art-btn.primary:hover {
            background: var(--primary-dark);
        }
        
        .emoji-palette {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .palette-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .emoji-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .category-btn {
            padding: 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .category-btn:hover, .category-btn.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .emoji-item {
            font-size: 2rem;
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--bg-tertiary);
            text-align: center;
        }
        
        .emoji-item:hover {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }
        
        .art-templates {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .templates-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .template-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .template-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .template-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .template-preview {
            font-family: monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.2;
            max-height: 80px;
            overflow: hidden;
            white-space: pre;
        }
        
        .art-history {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .history-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
        }
        
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .history-item {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .history-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .history-preview {
            font-family: monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.2;
            max-height: 100px;
            overflow: hidden;
            white-space: pre;
            margin-bottom: 15px;
        }
        
        .history-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        @media (max-width: 768px) {
            .art-controls {
                grid-template-columns: 1fr;
            }
            
            .art-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .art-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .emoji-categories {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .emoji-grid {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .history-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Hub
    </a>
    
    <div class="container">
        <div class="page-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">Emoji Art Creator</h1>
                    <div class="page-meta">
                        <span class="page-category-badge">Writing & Creativity</span>
                        <span class="page-number-badge">Page #49</span>
                    </div>
                </div>
            </div>

            <!-- Introduction -->
            <div class="content-section">
                <p>Create amazing ASCII art using emojis and characters! Design patterns, pictures, and creative compositions with our easy-to-use emoji art creator. Perfect for social media, messages, and unleashing your artistic creativity.</p>
            </div>

            <!-- Art Canvas -->
            <div class="content-section">
                <div class="art-canvas">
                    <div class="canvas-display empty" id="canvasDisplay">
                        Your emoji art will appear here...
                    </div>
                    
                    <div class="art-controls">
                        <div class="control-group">
                            <label for="canvasWidth">Width</label>
                            <input type="number" id="canvasWidth" value="20" min="5" max="50">
                        </div>
                        <div class="control-group">
                            <label for="canvasHeight">Height</label>
                            <input type="number" id="canvasHeight" value="10" min="5" max="30">
                        </div>
                        <div class="control-group">
                            <label for="selectedEmoji">Selected Emoji</label>
                            <input type="text" id="selectedEmoji" value="🎨" readonly>
                        </div>
                    </div>
                    
                    <div class="art-actions">
                        <button class="art-btn" onclick="clearCanvas()">
                            <i class="fas fa-eraser"></i> Clear Canvas
                        </button>
                        <button class="art-btn" onclick="randomArt()">
                            <i class="fas fa-dice"></i> Random Art
                        </button>
                        <button class="art-btn primary" onclick="saveArt()">
                            <i class="fas fa-save"></i> Save Art
                        </button>
                        <button class="art-btn" onclick="copyArt()">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                    </div>
                </div>
            </div>

            <!-- Emoji Palette -->
            <div class="content-section">
                <div class="emoji-palette">
                    <div class="palette-title">Emoji Palette</div>
                    
                    <div class="emoji-categories">
                        <button class="category-btn active" data-category="faces">Faces</button>
                        <button class="category-btn" data-category="animals">Animals</button>
                        <button class="category-btn" data-category="food">Food</button>
                        <button class="category-btn" data-category="objects">Objects</button>
                        <button class="category-btn" data-category="symbols">Symbols</button>
                        <button class="category-btn" data-category="nature">Nature</button>
                    </div>
                    
                    <div class="emoji-grid" id="emojiGrid">
                        <!-- Emojis will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Art Templates -->
            <div class="content-section">
                <div class="art-templates">
                    <div class="templates-title">Quick Templates</div>
                    
                    <div class="templates-grid">
                        <div class="template-item" onclick="loadTemplate('heart')">
                            <div class="template-name">Heart</div>
                            <div class="template-preview">💖💖💖💖💖
💖💖💖💖💖💖💖
💖💖💖💖💖💖💖💖
💖💖💖💖💖💖💖💖💖
💖💖💖💖💖💖💖💖💖💖
💖💖💖💖💖💖💖💖💖💖💖
💖💖💖💖💖💖💖💖💖💖💖💖
💖💖💖💖💖💖💖💖💖💖💖💖💖</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('star')">
                            <div class="template-name">Star</div>
                            <div class="template-preview">    ⭐
   ⭐⭐⭐
  ⭐⭐⭐⭐⭐
 ⭐⭐⭐⭐⭐⭐⭐
⭐⭐⭐⭐⭐⭐⭐⭐⭐
 ⭐⭐⭐⭐⭐⭐⭐
  ⭐⭐⭐⭐⭐
   ⭐⭐⭐
    ⭐</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('flower')">
                            <div class="template-name">Flower</div>
                            <div class="template-preview">  🌸🌸🌸
 🌸🌺🌺🌺🌸
🌸🌺🌺🌺🌺🌺🌸
 🌸🌺🌺🌺🌸
  🌸🌸🌸</div>
                        </div>
                        
                        <div class="template-item" onclick="loadTemplate('smile')">
                            <div class="template-name">Smile</div>
                            <div class="template-preview">😊😊😊😊😊
😊         😊
😊  😄😄  😊
😊         😊
😊😊😊😊😊</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Art History -->
            <div class="content-section">
                <div class="art-history">
                    <div class="history-title">Recent Art Pieces</div>
                    
                    <div class="history-grid" id="historyGrid">
                        <!-- History items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let canvas = [];
        let selectedEmoji = '🎨';
        let canvasWidth = 20;
        let canvasHeight = 10;
        let artHistory = JSON.parse(localStorage.getItem('emojiArtHistory')) || [];

        const emojiCategories = {
            faces: ['😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇', '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚', '😋', '😛', '😝', '😜', '🤪', '🤨', '🧐', '🤓', '😎', '🤩', '🥳', '😏', '😒', '😞', '😔', '😟', '😕', '🙁', '☹️', '😣', '😖', '😫', '😩', '🥺', '😢', '😭', '😤', '😠', '😡', '🤬', '🤯', '😳', '🥵', '🥶', '😱', '😨', '😰', '😥', '😓', '🤗', '🤔', '🤭', '🤫', '🤥', '😶', '😐', '😑', '😯', '😦', '😧', '😮', '😲', '🥱', '😴', '🤤', '😪', '😵', '🤐', '🥴', '🤢', '🤮', '🤧', '😷', '🤒', '🤕'],
            animals: ['🐶', '🐱', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐨', '🐯', '🦁', '🐮', '🐷', '🐸', '🐵', '🐔', '🐧', '🐦', '🐤', '🐣', '🦆', '🦅', '🦉', '🦇', '🐺', '🐗', '🐴', '🦄', '🐝', '🐛', '🦋', '🐌', '🐞', '🐜', '🦟', '🦗', '🕷️', '🕸️', '🦂', '🐢', '🐍', '🦎', '🦖', '🦕', '🐙', '🦑', '🦐', '🦞', '🦀', '🐡', '🐠', '🐟', '🐬', '🐳', '🐋', '🦈', '🐊', '🐅', '🐆', '🦓', '🦍', '🦧', '🐘', '🦛', '🦏', '🐪', '🐫', '🦒', '🦘', '🐃', '🐂', '🐄', '🐎', '🐖', '🐏', '🐑', '🦙', '🐐', '🦌', '🐕', '🐩', '🦮', '🐕‍🦺', '🐈', '🐈‍⬛', '🐓', '🦃', '🦚', '🦜', '🦢', '🦩', '🕊️', '🐇', '🦝', '🦨', '🦡', '🦫', '🦦', '🦥', '🐁', '🐀', '🐿️', '🦔'],
            food: ['🍎', '🍐', '🍊', '🍋', '🍌', '🍉', '🍇', '🍓', '🫐', '🍈', '🍒', '🍑', '🥭', '🍍', '🥥', '🥝', '🍅', '🥑', '🥦', '🥬', '🥒', '🌶️', '🫑', '🌽', '🥕', '🫒', '🧄', '🧅', '🥔', '🍠', '🥐', '🥯', '🍞', '🥖', '🥨', '🧀', '🥚', '🍳', '🧈', '🥞', '🧇', '🥓', '🥩', '🍗', '🍖', '🦴', '🌭', '🍔', '🍟', '🍕', '🥪', '🥙', '🧆', '🌮', '🌯', '🫔', '🥗', '🥘', '🫕', '🥣', '🍝', '🍜', '🍲', '🍛', '🍣', '🍱', '🥟', '🦪', '🍤', '🍙', '🍚', '🍘', '🍥', '🥠', '🥮', '🍢', '🍡', '🍧', '🍨', '🍦', '🥧', '🧁', '🍰', '🎂', '🍮', '🍭', '🍬', '🍫', '🍿', '🍩', '🍪', '🌰', '🥜', '🍯', '🥛', '🍼', '☕', '🫖', '🍵', '🧃', '🥤', '🧋', '🍶', '🍺', '🍷', '🥂', '🥃', '🍸', '🍹', '🧉', '🍾'],
            objects: ['💎', '🔮', '🎁', '🎀', '🎈', '🎉', '🎊', '🎋', '🎍', '🎎', '🎏', '🎐', '🎃', '🪔', '🧧', '🪅', '🪆', '🪄', '🪩', '🪑', '🪞', '🪟', '🪠', '🪡', '🪢', '🪣', '🪤', '🪥', '🪦', '🪧', '🪨', '🪩', '🪪', '🪫', '🪬', '🪭', '🪮', '🪯', '🪰', '🪱', '🪲', '🪳', '🪴', '🪵', '🪶', '🪷', '🪸', '🪹', '🪺', '🪻', '🪼', '🪽', '🪾', '🪿', '🫀', '🫁', '🫂', '🫃', '🫄', '🫅', '🫎', '🫏', '🫐', '🫑', '🫒', '🫓', '🫔', '🫕', '🫖', '🫗', '🫘', '🫙', '🫚', '🫛', '🫜', '🫝', '🫞', '🫟', '🫠', '🫡', '🫢', '🫣', '🫤', '🫥', '🫦', '🫧', '🫨', '🫩', '🫪', '🫫', '🫬', '🫭', '🫮', '🫯', '🫰', '🫱', '🫲', '🫳', '🫴', '🫵', '🫶', '🫷', '🫸', '🫹', '🫺', '🫻', '🫼', '🫽', '🫾', '🫿'],
            symbols: ['❤️', '🧡', '💛', '💚', '💙', '💜', '🖤', '🤍', '🤎', '💔', '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '☮️', '✝️', '☪️', '🕉️', '☸️', '✡️', '🔯', '🕎', '☯️', '☦️', '🛐', '⛎', '♈', '♉', '♊', '♋', '♌', '♍', '♎', '♏', '♐', '♑', '♒', '♓', '🆔', '⚛️', '🉑', '☢️', '☣️', '📴', '📳', '🈶', '🈚', '🈸', '🈺', '🈷️', '✴️', '🆚', '💮', '🉐', '㊙️', '㊗️', '🈴', '🈵', '🈹', '🈲', '🅰️', '🅱️', '🆎', '🆑', '🅾️', '🆘', '❌', '⭕', '🛑', '⛔', '📛', '🚫', '💯', '💢', '♨️', '🚷', '🚯', '🚳', '🚱', '🔞', '📵', '🚭', '❌', '❎', '✅', '☑️', '✔️', '🔘', '🔴', '🟠', '🟡', '🟢', '🔵', '🟣', '⚫', '⚪', '🟤'],
            nature: ['🌱', '🌲', '🌳', '🌴', '🌵', '🌾', '🌿', '☘️', '🍀', '🍁', '🍂', '🍃', '🌺', '🌸', '🌼', '🌻', '🌞', '🌝', '🌛', '🌜', '🌚', '🌕', '🌖', '🌗', '🌘', '🌑', '🌒', '🌓', '🌔', '🌙', '🌎', '🌍', '🌏', '💫', '⭐', '🌟', '✨', '⚡', '☄️', '💥', '🔥', '🌪️', '🌈', '☀️', '🌤️', '⛅', '🌥️', '☁️', '🌦️', '🌧️', '⛈️', '🌩️', '🌨️', '💧', '☔', '☂️', '🌊', '🌫️', '🍃', '💨', '🌬️', '🌪️', '🌋', '🗻', '🏔️', '⛰️', '🏕️', '🏖️', '🏜️', '🏝️', '🏞️', '🏟️', '🏛️', '🏗️', '🧱', '🪨', '🪵', '🛖', '🏘️', '🏚️', '🏠', '🏡', '🏢', '🏣', '🏤', '🏥', '🏦', '🏨', '🏩', '🏪', '🏫', '🏬', '🏭', '🏯', '🏰', '💒', '🗼', '🗽', '⛪', '🕌', '🛕', '🕍', '⛩️', '🕋', '⛲', '⛺', '🌁', '🌃', '🏙️', '🌄', '🌅', '🌆', '🌇', '🌉', '♨️', '🎠', '🎡', '🎢', '💈', '🎪', '🚂', '🚃', '🚄', '🚅', '🚆', '🚇', '🚈', '🚉', '🚊', '🚝', '🚞', '🚋', '🚌', '🚍', '🚎', '🚐', '🚑', '🚒', '🚓', '🚔', '🚕', '🚖', '🚗', '🚘', '🚙', '🚚', '🚛', '🚜', '🏎️', '🏍️', '🛵', '🦽', '🦼', '🛴', '🚲', '🛹', '🛼', '🛶', '⛵', '🚤', '🛥️', '🛳️', '⛴️', '🚢', '🚁', '🛩️', '🛫', '🛬', '🚀', '🛸', '🚉', '🚊', '🚋', '🚌', '🚍', '🚎', '🚐', '🚑', '🚒', '🚓', '🚔', '🚕', '🚖', '🚗', '🚘', '🚙', '🚚', '🚛', '🚜', '🏎️', '🏍️', '🛵', '🦽', '🦼', '🛴', '🚲', '🛹', '🛼', '🛶', '⛵', '🚤', '🛥️', '🛳️', '⛴️', '🚢', '🚁', '🛩️', '🛫', '🛬', '🚀', '🛸']
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            initializeCanvas();
            loadEmojis('faces');
            renderHistory();
        });

        function setupEventListeners() {
            document.getElementById('canvasWidth').addEventListener('change', function() {
                canvasWidth = parseInt(this.value);
                initializeCanvas();
            });
            
            document.getElementById('canvasHeight').addEventListener('change', function() {
                canvasHeight = parseInt(this.value);
                initializeCanvas();
            });
        }

        function initializeCanvas() {
            canvas = [];
            for (let y = 0; y < canvasHeight; y++) {
                canvas[y] = [];
                for (let x = 0; x < canvasWidth; x++) {
                    canvas[y][x] = ' ';
                }
            }
            updateCanvasDisplay();
        }

        function updateCanvasDisplay() {
            const display = document.getElementById('canvasDisplay');
            if (canvas.length === 0 || canvas[0].length === 0) {
                display.textContent = 'Your emoji art will appear here...';
                display.className = 'canvas-display empty';
                return;
            }
            
            let artText = '';
            for (let y = 0; y < canvasHeight; y++) {
                for (let x = 0; x < canvasWidth; x++) {
                    artText += canvas[y][x] || ' ';
                }
                artText += '\n';
            }
            
            display.textContent = artText;
            display.className = 'canvas-display';
        }

        function loadEmojis(category) {
            const grid = document.getElementById('emojiGrid');
            grid.innerHTML = '';
            
            // Update active category button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });
            
            // Add click event listeners to category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    loadEmojis(this.dataset.category);
                });
            });
            
            const emojis = emojiCategories[category] || [];
            emojis.forEach(emoji => {
                const item = document.createElement('div');
                item.className = 'emoji-item';
                item.textContent = emoji;
                item.onclick = () => selectEmoji(emoji);
                grid.appendChild(item);
            });
        }

        function selectEmoji(emoji) {
            selectedEmoji = emoji;
            document.getElementById('selectedEmoji').value = emoji;
        }

        function clearCanvas() {
            if (confirm('Are you sure you want to clear the canvas?')) {
                initializeCanvas();
            }
        }

        function randomArt() {
            const patterns = [
                'heart', 'star', 'flower', 'smile', 'spiral', 'diamond', 'triangle'
            ];
            const randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
            loadTemplate(randomPattern);
        }

        function loadTemplate(templateName) {
            const templates = {
                heart: {
                    width: 15,
                    height: 8,
                    art: [
                        '     💖💖💖💖💖     ',
                        '   💖💖💖💖💖💖💖   ',
                        '  💖💖💖💖💖💖💖💖  ',
                        ' 💖💖💖💖💖💖💖💖💖 ',
                        '💖💖💖💖💖💖💖💖💖💖',
                        ' 💖💖💖💖💖💖💖💖💖 ',
                        '  💖💖💖💖💖💖💖💖  ',
                        '   💖💖💖💖💖💖💖   '
                    ]
                },
                star: {
                    width: 11,
                    height: 9,
                    art: [
                        '    ⭐    ',
                        '   ⭐⭐⭐   ',
                        '  ⭐⭐⭐⭐⭐  ',
                        ' ⭐⭐⭐⭐⭐⭐⭐ ',
                        '⭐⭐⭐⭐⭐⭐⭐⭐⭐',
                        ' ⭐⭐⭐⭐⭐⭐⭐ ',
                        '  ⭐⭐⭐⭐⭐  ',
                        '   ⭐⭐⭐   ',
                        '    ⭐    '
                    ]
                },
                flower: {
                    width: 7,
                    height: 5,
                    art: [
                        ' 🌸🌸🌸 ',
                        '🌸🌺🌺🌺🌸',
                        ' 🌸🌺🌺🌺🌸 ',
                        '  🌸🌸🌸  '
                    ]
                },
                smile: {
                    width: 11,
                    height: 5,
                    art: [
                        '😊😊😊😊😊',
                        '😊         😊',
                        '😊  😄😄  😊',
                        '😊         😊',
                        '😊😊😊😊😊'
                    ]
                }
            };
            
            const template = templates[templateName];
            if (template) {
                canvasWidth = template.width;
                canvasHeight = template.height;
                document.getElementById('canvasWidth').value = canvasWidth;
                document.getElementById('canvasHeight').value = canvasHeight;
                
                canvas = [];
                template.art.forEach((line, y) => {
                    canvas[y] = [];
                    for (let x = 0; x < line.length; x++) {
                        canvas[y][x] = line[x];
                    }
                });
                
                updateCanvasDisplay();
            }
        }

        function saveArt() {
            const artText = document.getElementById('canvasDisplay').textContent;
            if (artText === 'Your emoji art will appear here...') {
                alert('Please create some art first!');
                return;
            }
            
            const artPiece = {
                id: Date.now(),
                art: artText,
                width: canvasWidth,
                height: canvasHeight,
                timestamp: Date.now()
            };
            
            artHistory.unshift(artPiece);
            
            // Keep only last 20 pieces
            if (artHistory.length > 20) {
                artHistory = artHistory.slice(0, 20);
            }
            
            localStorage.setItem('emojiArtHistory', JSON.stringify(artHistory));
            renderHistory();
            
            alert('Art saved successfully!');
        }

        function copyArt() {
            const artText = document.getElementById('canvasDisplay').textContent;
            if (artText === 'Your emoji art will appear here...') {
                alert('Please create some art first!');
                return;
            }
            
            navigator.clipboard.writeText(artText).then(() => {
                alert('Art copied to clipboard!');
            });
        }

        function renderHistory() {
            const historyGrid = document.getElementById('historyGrid');
            historyGrid.innerHTML = '';
            
            if (artHistory.length === 0) {
                historyGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-secondary);">
                        <i class="fas fa-palette" style="font-size: 3rem; margin-bottom: 20px; display: block;"></i>
                        <h3>No art pieces yet</h3>
                        <p>Create and save your first emoji art to see it here!</p>
                    </div>
                `;
                return;
            }
            
            artHistory.forEach(art => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.onclick = () => loadArt(art);
                
                const preview = art.art.split('\n').slice(0, 3).join('\n');
                
                historyItem.innerHTML = `
                    <div class="history-preview">${preview}</div>
                    <div class="history-meta">
                        <span>${art.width}×${art.height}</span>
                        <span>${new Date(art.timestamp).toLocaleDateString()}</span>
                    </div>
                `;
                
                historyGrid.appendChild(historyItem);
            });
        }

        function loadArt(art) {
            if (confirm('Load this art piece? Current canvas will be cleared.')) {
                canvasWidth = art.width;
                canvasHeight = art.height;
                document.getElementById('canvasWidth').value = canvasWidth;
                document.getElementById('canvasHeight').value = canvasHeight;
                
                const lines = art.art.split('\n');
                canvas = [];
                lines.forEach((line, y) => {
                    if (y < canvasHeight) {
                        canvas[y] = [];
                        for (let x = 0; x < Math.min(line.length, canvasWidth); x++) {
                            canvas[y][x] = line[x];
                        }
                        // Fill remaining space
                        for (let x = line.length; x < canvasWidth; x++) {
                            canvas[y][x] = ' ';
                        }
                    }
                });
                
                updateCanvasDisplay();
            }
        }

        // Add click-to-draw functionality
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('canvas-display') && !e.target.classList.contains('empty')) {
                const rect = e.target.getBoundingClientRect();
                const x = Math.floor((e.clientX - rect.left) / (rect.width / canvasWidth));
                const y = Math.floor((e.clientY - rect.top) / (rect.height / canvasHeight));
                
                if (x >= 0 && x < canvasWidth && y >= 0 && y < canvasHeight) {
                    canvas[y][x] = selectedEmoji;
                    updateCanvasDisplay();
                }
            }
        });
    </script>
</body>
</html>
