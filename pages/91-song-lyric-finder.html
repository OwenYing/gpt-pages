<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Song Lyric Finder - GPT Ideas Hub</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
        
        .content-section h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .content-section p {
            line-height: 1.8;
            margin-bottom: 16px;
            color: var(--text-secondary);
        }
        
        .lyric-finder-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .search-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .search-form {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .search-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .search-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .search-btn:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
        }
        
        .search-options {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .search-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .search-option input[type="radio"] {
            accent-color: var(--primary-color);
        }
        
        .search-option label {
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
        }
        
        .results-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .song-result {
            background: var(--bg-tertiary);
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            border-left: 4px solid var(--primary-color);
        }
        
        .song-result:last-child {
            margin-bottom: 0;
        }
        
        .song-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .song-info h3 {
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 1.3rem;
        }
        
        .song-meta {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        .song-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .view-lyrics-btn {
            background: var(--primary-color);
            color: white;
        }
        
        .view-lyrics-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .favorite-btn {
            background: var(--warning-color);
            color: white;
        }
        
        .favorite-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .favorite-btn.favorited {
            background: #dc3545;
        }
        
        .favorite-btn.favorited:hover {
            background: #c82333;
        }
        
        .lyrics-content {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 15px;
            border: 1px solid var(--border-color);
            white-space: pre-line;
            line-height: 1.8;
            color: var(--text-secondary);
            font-family: 'Courier New', monospace;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .lyrics-content.hidden {
            display: none;
        }
        
        .favorites-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .favorite-song {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            border-left: 4px solid var(--warning-color);
        }
        
        .favorite-song:last-child {
            margin-bottom: 0;
        }
        
        .favorite-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .favorite-info h4 {
            color: var(--text-primary);
            margin-bottom: 5px;
        }
        
        .favorite-meta {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .remove-favorite-btn {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }
        
        .remove-favorite-btn:hover {
            background: #c82333;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .stats-section {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            text-align: center;
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: var(--border-radius);
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .export-section {
            text-align: center;
            margin-top: 30px;
        }
        
        .export-btn {
            background: var(--info-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
            transition: var(--transition);
        }
        
        .export-btn:hover {
            background: #0c7a8a;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .empty-state i {
            font-size: 3rem;
            color: var(--text-muted);
            margin-bottom: 15px;
        }
        
        .empty-state h3 {
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .loading {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .loading i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            background: var(--danger-color);
            color: white;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .success-message {
            background: #28a745;
            color: white;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .search-form {
                flex-direction: column;
                align-items: center;
            }
            
            .search-input {
                min-width: auto;
                width: 100%;
                max-width: 400px;
            }
            
            .search-options {
                flex-direction: column;
                align-items: center;
            }
            
            .song-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .song-actions {
                width: 100%;
                justify-content: flex-start;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
        Back to Hub
    </a>
    
    <div class="page-content">
        <div class="page-header">
            <div class="page-header-content">
                <h1 class="page-title">🎵 Song Lyric Finder</h1>
                <div class="page-meta">
                    <span class="page-category-badge">Music & Entertainment</span>
                    <span class="page-number-badge">Page 86</span>
                </div>
                <p style="margin-top: 16px; font-size: 1.1rem; opacity: 0.9;">Find lyrics for your favorite songs and discover new music</p>
            </div>
        </div>
        
        <div class="lyric-finder-container">
            <!-- Search Section -->
            <div class="search-section">
                <h2><i class="fas fa-search"></i> Find Song Lyrics</h2>
                <p>Search for songs by title, artist, or lyrics to find the complete song text</p>
                
                <form class="search-form" id="searchForm">
                    <input type="text" class="search-input" id="searchQuery" placeholder="Enter song title, artist, or lyrics..." required>
                    <button type="submit" class="search-btn" id="searchBtn">
                        <i class="fas fa-search"></i> Search
                    </button>
                </form>
                
                <div class="search-options">
                    <div class="search-option">
                        <input type="radio" id="searchByTitle" name="searchType" value="title" checked>
                        <label for="searchByTitle">Search by Title</label>
                    </div>
                    <div class="search-option">
                        <input type="radio" id="searchByArtist" name="searchType" value="artist">
                        <label for="searchByArtist">Search by Artist</label>
                    </div>
                    <div class="search-option">
                        <input type="radio" id="searchByLyrics" name="searchType" value="lyrics">
                        <label for="searchByLyrics">Search by Lyrics</label>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <h2><i class="fas fa-music"></i> Search Results</h2>
                <div id="searchResults">
                    <!-- Search results will be displayed here -->
                </div>
            </div>

            <!-- Favorites Section -->
            <div class="favorites-section" id="favoritesSection" style="display: none;">
                <h2><i class="fas fa-heart"></i> Your Favorite Songs</h2>
                <div id="favoritesList">
                    <!-- Favorite songs will be displayed here -->
                </div>
            </div>

            <!-- Statistics -->
            <div class="stats-section">
                <h2><i class="fas fa-chart-bar"></i> Search Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalSearches">0</div>
                        <div class="stat-label">Total Searches</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="songsFound">0</div>
                        <div class="stat-label">Songs Found</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="favoriteSongs">0</div>
                        <div class="stat-label">Favorite Songs</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalLyrics">0</div>
                        <div class="stat-label">Lyrics Viewed</div>
                    </div>
                </div>
            </div>

            <!-- Export Section -->
            <div class="export-section">
                <button class="export-btn" onclick="exportFavorites()">
                    <i class="fas fa-download"></i> Export Favorites
                </button>
                <button class="export-btn" onclick="exportSearchHistory()">
                    <i class="fas fa-history"></i> Export Search History
                </button>
            </div>
        </div>
    </div>

    <script>
        let searchHistory = [];
        let favoriteSongs = [];
        let stats = {
            totalSearches: 0,
            songsFound: 0,
            favoriteSongs: 0,
            totalLyrics: 0
        };

        // Sample song database (in a real app, this would come from an API)
        const sampleSongs = [
            {
                id: 1,
                title: "Bohemian Rhapsody",
                artist: "Queen",
                lyrics: `Is this the real life? Is this just fantasy?
Caught in a landslide, no escape from reality
Open your eyes, look up to the skies and see
I'm just a poor boy, I need no sympathy
Because I'm easy come, easy go, little high, little low
Any way the wind blows doesn't really matter to me, to me

Mama, just killed a man
Put a gun against his head, pulled my trigger, now he's dead
Mama, life had just begun
But now I've gone and thrown it all away

Mama, ooh, didn't mean to make you cry
If I'm not back again this time tomorrow
Carry on, carry on as if nothing really matters

Too late, my time has come
Sends shivers down my spine, body's aching all the time
Goodbye, everybody, I've got to go
Gotta leave you all behind and face the truth

Mama, ooh, I don't want to die
I sometimes wish I'd never been born at all

I see a little silhouetto of a man
Scaramouche, Scaramouche, will you do the Fandango?
Thunderbolt and lightning, very, very frightening me
(Galileo) Galileo, (Galileo) Galileo, Galileo figaro magnifico
I'm just a poor boy, nobody loves me
He's just a poor boy from a poor family
Spare him his life from this monstrosity

Easy come, easy go, will you let me go?
Bismillah! No, we will not let you go
(Let him go!) Bismillah! We will not let you go
(Let him go!) Bismillah! We will not let you go
(Let me go!) Will not let you go
(Let me go!) Will not let you go
(Let me go!) Ah, no, no, no, no, no, no, no
(Oh mama mia, mama mia) Mama mia, let me go
Beelzebub has a devil put aside for me, for me, for me!

So you think you can stone me and spit in my eye?
So you think you can love me and leave me to die?
Oh, baby, can't do this to me, baby
Just gotta get out, just gotta get right outta here

Nothing really matters, anyone can see
Nothing really matters
Nothing really matters to me

Any way the wind blows...`,
                genre: "Rock",
                year: 1975
            },
            {
                id: 2,
                title: "Imagine",
                artist: "John Lennon",
                lyrics: `Imagine there's no heaven
It's easy if you try
No hell below us
Above us only sky
Imagine all the people
Living for today

Imagine there's no countries
It isn't hard to do
Nothing to kill or die for
And no religion, too
Imagine all the people
Living life in peace

You may say I'm a dreamer
But I'm not the only one
I hope someday you'll join us
And the world will be as one

Imagine no possessions
I wonder if you can
No need for greed or hunger
A brotherhood of man
Imagine all the people
Sharing all the world

You may say I'm a dreamer
But I'm not the only one
I hope someday you'll join us
And the world will be as one`,
                genre: "Pop",
                year: 1971
            },
            {
                id: 3,
                title: "Hotel California",
                artist: "Eagles",
                lyrics: `On a dark desert highway, cool wind in my hair
Warm smell of colitas, rising up through the air
Up ahead in the distance, I saw a shimmering light
My head grew heavy and my sight grew dim
I had to stop for the night

There she stood in the doorway
I heard the mission bell
And I was thinking to myself
"This could be Heaven or this could be Hell"
Then she lit up a candle and she showed me the way
There were voices down the corridor, I thought I heard them say

Welcome to the Hotel California
Such a lovely place (Such a lovely place)
Such a lovely face
They're living it up at the Hotel California
What a nice surprise (what a nice surprise)
Bring your alibis

Mirrors on the ceiling
The pink champagne on ice
And she said "We are all just prisoners here, of our own device"
And in the master's chambers, they gathered for the feast
They stab it with their steely knives, but they just can't kill the beast

Last thing I remember, I was
Running for the door
I had to find the passage back to the place I was before
"Relax," said the night man, "We are programmed to receive
You can check out any time you like, but you can never leave!"`,
                genre: "Rock",
                year: 1976
            },
            {
                id: 4,
                title: "What a Wonderful World",
                artist: "Louis Armstrong",
                lyrics: `I see trees of green, red roses too
I see them bloom for me and you
And I think to myself what a wonderful world

I see skies of blue and clouds of white
The bright blessed day, the dark sacred night
And I think to myself what a wonderful world

The colors of the rainbow so pretty in the sky
Are also on the faces of people going by
I see friends shaking hands saying how do you do
They're really saying I love you

I hear babies crying, I watch them grow
They'll learn much more than I'll never know
And I think to myself what a wonderful world

Yes I think to myself what a wonderful world`,
                genre: "Jazz",
                year: 1967
            },
            {
                id: 5,
                title: "Stairway to Heaven",
                artist: "Led Zeppelin",
                lyrics: `There's a lady who's sure all that glitters is gold
And she's buying a stairway to heaven
When she gets there she knows, if the stores are all closed
With a word she can get what she came for
Ooh, ooh, and she's buying a stairway to heaven

There's a sign on the wall but she wants to be sure
'Cause you know sometimes words have two meanings
In a tree by the brook, there's a songbird who sings
Sometimes all of our thoughts are misgiven
Ooh, it makes me wonder
Ooh, it makes me wonder

There's a feeling I get when I look to the west
And my spirit is crying for leaving
In my thoughts I have seen rings of smoke through the trees
And the voices of those who stand looking
Ooh, it makes me wonder
Ooh, it really makes me wonder

And it's whispered that soon if we all call the tune
Then the piper will lead us to reason
And a new day will dawn for those who stand long
And the forests will echo with laughter

If there's a bustle in your hedgerow, don't be alarmed now
It's just a spring clean for the May queen
Yes, there are two paths you can go by, but in the long run
There's still time to change the road you're on

And it makes me wonder

Your head is humming and it won't go, in case you don't know
The piper's calling you to join him
Dear lady, can you hear the wind blow, and did you know
Your stairway lies on the whispering wind

And as we wind on down the road
Our shadows taller than our soul
There walks a lady we all know
Who shines white light and wants to show
How everything still turns to gold
And if you listen very hard
The tune will come to you at last
When all are one and one is all
To be a rock and not to roll

And she's buying a stairway to heaven`,
                genre: "Rock",
                year: 1971
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateStats();
            renderFavorites();
        });

        // Search Form Handler
        document.getElementById('searchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const query = document.getElementById('searchQuery').value.trim();
            const searchType = document.querySelector('input[name="searchType"]:checked').value;
            
            if (query) {
                performSearch(query, searchType);
            }
        });

        // Perform Search
        function performSearch(query, searchType) {
            const searchBtn = document.getElementById('searchBtn');
            const resultsSection = document.getElementById('resultsSection');
            const searchResults = document.getElementById('searchResults');
            
            // Show loading state
            searchBtn.disabled = true;
            searchBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Searching...';
            
            // Simulate API delay
            setTimeout(() => {
                const results = searchSongs(query, searchType);
                displaySearchResults(results);
                
                // Update stats
                stats.totalSearches++;
                stats.songsFound += results.length;
                updateStats();
                saveData();
                
                // Reset button
                searchBtn.disabled = false;
                searchBtn.innerHTML = '<i class="fas fa-search"></i> Search';
                
                // Show results section
                resultsSection.style.display = 'block';
            }, 1000);
        }

        // Search Songs
        function searchSongs(query, searchType) {
            const lowerQuery = query.toLowerCase();
            const results = [];
            
            sampleSongs.forEach(song => {
                let match = false;
                
                switch (searchType) {
                    case 'title':
                        match = song.title.toLowerCase().includes(lowerQuery);
                        break;
                    case 'artist':
                        match = song.artist.toLowerCase().includes(lowerQuery);
                        break;
                    case 'lyrics':
                        match = song.lyrics.toLowerCase().includes(lowerQuery);
                        break;
                }
                
                if (match) {
                    results.push(song);
                }
            });
            
            return results;
        }

        // Display Search Results
        function displaySearchResults(results) {
            const searchResults = document.getElementById('searchResults');
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h3>No songs found</h3>
                        <p>Try searching with different keywords or check your spelling.</p>
                    </div>
                `;
                return;
            }
            
            searchResults.innerHTML = results.map(song => `
                <div class="song-result" data-song-id="${song.id}">
                    <div class="song-header">
                        <div class="song-info">
                            <h3>${song.title}</h3>
                            <div class="song-meta">
                                <strong>Artist:</strong> ${song.artist} | 
                                <strong>Genre:</strong> ${song.genre} | 
                                <strong>Year:</strong> ${song.year}
                            </div>
                        </div>
                        <div class="song-actions">
                            <button class="action-btn view-lyrics-btn" onclick="toggleLyrics(${song.id})">
                                <i class="fas fa-eye"></i> View Lyrics
                            </button>
                            <button class="action-btn favorite-btn ${isFavorite(song.id) ? 'favorited' : ''}" onclick="toggleFavorite(${song.id})">
                                <i class="fas fa-heart"></i> ${isFavorite(song.id) ? 'Favorited' : 'Favorite'}
                            </button>
                        </div>
                    </div>
                    <div class="lyrics-content hidden" id="lyrics-${song.id}">
                        ${song.lyrics}
                    </div>
                </div>
            `).join('');
        }

        // Toggle Lyrics Display
        function toggleLyrics(songId) {
            const lyricsContent = document.getElementById(`lyrics-${songId}`);
            const isHidden = lyricsContent.classList.contains('hidden');
            
            if (isHidden) {
                lyricsContent.classList.remove('hidden');
                stats.totalLyrics++;
                updateStats();
                saveData();
            } else {
                lyricsContent.classList.add('hidden');
            }
        }

        // Toggle Favorite
        function toggleFavorite(songId) {
            const song = sampleSongs.find(s => s.id === songId);
            if (!song) return;
            
            const favoriteIndex = favoriteSongs.findIndex(f => f.id === songId);
            
            if (favoriteIndex === -1) {
                // Add to favorites
                favoriteSongs.push({
                    ...song,
                    dateAdded: new Date().toISOString()
                });
                showNotification(`${song.title} added to favorites!`, 'success');
            } else {
                // Remove from favorites
                favoriteSongs.splice(favoriteIndex, 1);
                showNotification(`${song.title} removed from favorites!`, 'success');
            }
            
            updateStats();
            renderFavorites();
            saveData();
            
            // Update the favorite button in search results
            const favoriteBtn = document.querySelector(`[data-song-id="${songId}"] .favorite-btn`);
            if (favoriteBtn) {
                favoriteBtn.classList.toggle('favorited');
                favoriteBtn.innerHTML = `<i class="fas fa-heart"></i> ${isFavorite(songId) ? 'Favorited' : 'Favorite'}`;
            }
        }

        // Check if song is favorite
        function isFavorite(songId) {
            return favoriteSongs.some(f => f.id === songId);
        }

        // Render Favorites
        function renderFavorites() {
            const favoritesSection = document.getElementById('favoritesSection');
            const favoritesList = document.getElementById('favoritesList');
            
            if (favoriteSongs.length === 0) {
                favoritesSection.style.display = 'none';
                return;
            }
            
            favoritesSection.style.display = 'block';
            favoritesList.innerHTML = favoriteSongs.map(song => `
                <div class="favorite-song">
                    <div class="favorite-header">
                        <div class="favorite-info">
                            <h4>${song.title}</h4>
                            <div class="favorite-meta">
                                <strong>Artist:</strong> ${song.artist} | 
                                <strong>Genre:</strong> ${song.genre} | 
                                <strong>Year:</strong> ${song.year}
                            </div>
                        </div>
                        <button class="remove-favorite-btn" onclick="removeFavorite(${song.id})">
                            <i class="fas fa-trash"></i> Remove
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Remove Favorite
        function removeFavorite(songId) {
            const song = favoriteSongs.find(f => f.id === songId);
            if (song) {
                favoriteSongs = favoriteSongs.filter(f => f.id !== songId);
                updateStats();
                renderFavorites();
                saveData();
                showNotification(`${song.title} removed from favorites!`, 'success');
            }
        }

        // Update Statistics
        function updateStats() {
            stats.favoriteSongs = favoriteSongs.length;
            
            // Update display
            document.getElementById('totalSearches').textContent = stats.totalSearches;
            document.getElementById('songsFound').textContent = stats.songsFound;
            document.getElementById('favoriteSongs').textContent = stats.favoriteSongs;
            document.getElementById('totalLyrics').textContent = stats.totalLyrics;
        }

        // Export Favorites
        function exportFavorites() {
            if (favoriteSongs.length === 0) {
                alert('No favorite songs to export!');
                return;
            }
            
            const exportData = {
                favorites: favoriteSongs,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'favorite-songs.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // Export Search History
        function exportSearchHistory() {
            if (searchHistory.length === 0) {
                alert('No search history to export!');
                return;
            }
            
            const exportData = {
                searchHistory: searchHistory,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'search-history.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // Show Notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = type === 'success' ? 'success-message' : 'error-message';
            notification.textContent = message;
            
            // Insert at the top of the container
            const container = document.querySelector('.lyric-finder-container');
            container.insertBefore(notification, container.firstChild);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Save Data
        function saveData() {
            localStorage.setItem('lyricFinderData', JSON.stringify({
                searchHistory: searchHistory,
                favoriteSongs: favoriteSongs,
                stats: stats
            }));
        }

        // Load Data
        function loadData() {
            const savedData = localStorage.getItem('lyricFinderData');
            if (savedData) {
                const data = JSON.parse(savedData);
                searchHistory = data.searchHistory || [];
                favoriteSongs = data.favoriteSongs || [];
                stats = data.stats || {
                    totalSearches: 0,
                    songsFound: 0,
                    favoriteSongs: 0,
                    totalLyrics: 0
                };
            }
        }
    </script>
</body>
</html>
