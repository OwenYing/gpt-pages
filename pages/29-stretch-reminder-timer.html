<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T69M8TNFWB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T69M8TNFWB');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stretch Reminder Timer - GPT Static Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .timer-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .timer-display {
            font-size: 4em;
            font-weight: bold;
            color: #2196F3;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }
        
        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .timer-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .btn-start { background: #4CAF50; color: white; }
        .btn-start:hover { background: #45a049; }
        .btn-pause { background: #FF9800; color: white; }
        .btn-pause:hover { background: #F57C00; }
        .btn-reset { background: #f44336; color: white; }
        .btn-reset:hover { background: #d32f2f; }
        .btn-skip { background: #9C27B0; color: white; }
        .btn-skip:hover { background: #7B1FA2; }
        
        .settings-panel {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .setting-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .setting-group label {
            font-weight: 500;
            min-width: 120px;
        }
        
        .setting-group input, .setting-group select {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .setting-group input[type="number"] {
            width: 80px;
        }
        
        .stretch-suggestions {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .stretch-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stretch-card {
            background: #F8F9FA;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid #2196F3;
        }
        
        .stretch-name {
            font-weight: 600;
            color: #1976D2;
            margin-bottom: 8px;
        }
        
        .stretch-description {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
        }
        
        .notification-settings {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .notification-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #2196F3;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .status-indicator {
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 500;
            margin: 20px 0;
            display: inline-block;
        }
        
        .status-active { background: #E8F5E8; color: #2E7D32; }
        .status-paused { background: #FFF3E0; color: #F57C00; }
        .status-stopped { background: #FFEBEE; color: #D32F2F; }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: #2196F3;
            transition: width 1s linear;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .page-header-content {
            position: relative;
            z-index: 2;
        }
        
        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .page-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .page-category-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .page-number-badge {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .content-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }
    </style>
</head>
<body class="individual-page">
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Hub
    </a>
    
    <div class="container">
        <div class="page-content">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-header-content">
                    <h1 class="page-title">Stretch Reminder Timer</h1>
                    <div class="page-meta">
                        <span class="page-category-badge">Health & Fitness</span>
                        <span class="page-number-badge">Page #29</span>
                    </div>
                </div>
            </div>

            <!-- Introduction -->
            <div class="content-section">
                <p class="description">
                    Stay active and prevent stiffness with customizable stretch reminders. Set intervals, choose stretches, 
                    and get notified when it's time to move and stretch.
                </p>
            </div>

            <!-- Timer Container -->
            <div class="content-section">
                <div class="timer-container">
                    <div class="status-indicator" id="statusIndicator">Stopped</div>
                    
                    <div class="timer-display" id="timerDisplay">00:00</div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    
                    <div class="timer-controls">
                        <button class="timer-btn btn-start" id="startBtn">Start Timer</button>
                        <button class="timer-btn btn-pause" id="pauseBtn" style="display: none;">Pause</button>
                        <button class="timer-btn btn-reset" id="resetBtn">Reset</button>
                        <button class="timer-btn btn-skip" id="skipBtn" style="display: none;">Skip to Next</button>
                    </div>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="content-section">
                <div class="settings-panel">
                    <h3>Timer Settings</h3>
                    
                    <div class="setting-group">
                        <label for="workInterval">Work Interval:</label>
                        <input type="number" id="workInterval" value="25" min="1" max="120">
                        <span>minutes</span>
                    </div>
                    
                    <div class="setting-group">
                        <label for="stretchDuration">Stretch Duration:</label>
                        <input type="number" id="stretchDuration" value="5" min="1" max="30">
                        <span>minutes</span>
                    </div>
                    
                    <div class="setting-group">
                        <label for="stretchType">Stretch Focus:</label>
                        <select id="stretchType">
                            <option value="general">General Stretching</option>
                            <option value="office">Office/Desk Work</option>
                            <option value="neck">Neck & Shoulders</option>
                            <option value="back">Back & Spine</option>
                            <option value="legs">Legs & Hips</option>
                            <option value="wrist">Wrists & Hands</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label for="autoStart">Auto-start stretches:</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoStart">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Notification Settings -->
            <div class="content-section">
                <div class="notification-settings">
                    <h3>Notification Settings</h3>
                    
                    <div class="notification-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="enableNotifications" checked>
                            <span class="slider"></span>
                        </label>
                        <span>Enable browser notifications</span>
                    </div>
                    
                    <div class="notification-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="enableSound" checked>
                            <span class="slider"></span>
                        </label>
                        <span>Play sound alerts</span>
                    </div>
                    
                    <div class="notification-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="enableDesktop" checked>
                            <span class="slider"></span>
                        </label>
                        <span>Show desktop notifications</span>
                    </div>
                </div>
            </div>

            <!-- Stretch Suggestions -->
            <div class="content-section">
                <div class="stretch-suggestions">
                    <h3>Stretch Suggestions</h3>
                    <div class="stretch-grid" id="stretchGrid">
                        <!-- Stretches will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class StretchTimer {
            constructor() {
                this.workInterval = 25 * 60; // 25 minutes in seconds
                this.stretchDuration = 5 * 60; // 5 minutes in seconds
                this.currentTime = 0;
                this.isWorkTime = true;
                this.isRunning = false;
                this.timer = null;
                this.stretchType = 'general';
                
                this.initializeElements();
                this.bindEvents();
                this.loadSettings();
                this.updateDisplay();
                this.renderStretches();
            }
            
            initializeElements() {
                this.timerDisplay = document.getElementById('timerDisplay');
                this.startBtn = document.getElementById('startBtn');
                this.pauseBtn = document.getElementById('pauseBtn');
                this.resetBtn = document.getElementById('resetBtn');
                this.skipBtn = document.getElementById('skipBtn');
                this.statusIndicator = document.getElementById('statusIndicator');
                this.progressFill = document.getElementById('progressFill');
                
                this.workIntervalInput = document.getElementById('workInterval');
                this.stretchDurationInput = document.getElementById('stretchDuration');
                this.stretchTypeSelect = document.getElementById('stretchType');
                this.autoStartCheckbox = document.getElementById('autoStart');
                
                this.notificationsCheckbox = document.getElementById('enableNotifications');
                this.soundCheckbox = document.getElementById('enableSound');
                this.desktopCheckbox = document.getElementById('enableDesktop');
            }
            
            bindEvents() {
                this.startBtn.addEventListener('click', () => this.startTimer());
                this.pauseBtn.addEventListener('click', () => this.pauseTimer());
                this.resetBtn.addEventListener('click', () => this.resetTimer());
                this.skipBtn.addEventListener('click', () => this.skipToNext());
                
                this.workIntervalInput.addEventListener('change', () => this.updateSettings());
                this.stretchDurationInput.addEventListener('change', () => this.updateSettings());
                this.stretchTypeSelect.addEventListener('change', () => {
                    this.stretchType = this.stretchTypeSelect.value;
                    this.renderStretches();
                });
                
                this.autoStartCheckbox.addEventListener('change', () => this.updateSettings());
                this.notificationsCheckbox.addEventListener('change', () => this.updateSettings());
                this.soundCheckbox.addEventListener('change', () => this.updateSettings());
                this.desktopCheckbox.addEventListener('change', () => this.updateSettings());
            }
            
            startTimer() {
                if (!this.isRunning) {
                    this.isRunning = true;
                    this.timer = setInterval(() => this.tick(), 1000);
                    this.updateButtons();
                    this.updateStatus();
                }
            }
            
            pauseTimer() {
                if (this.isRunning) {
                    this.isRunning = false;
                    clearInterval(this.timer);
                    this.updateButtons();
                    this.updateStatus();
                }
            }
            
            resetTimer() {
                this.pauseTimer();
                this.currentTime = 0;
                this.isWorkTime = true;
                this.updateDisplay();
                this.updateButtons();
                this.updateStatus();
            }
            
            skipToNext() {
                if (this.isWorkTime) {
                    this.currentTime = this.workInterval;
                } else {
                    this.currentTime = this.stretchDuration;
                }
                this.tick();
            }
            
            tick() {
                this.currentTime++;
                
                if (this.isWorkTime && this.currentTime >= this.workInterval) {
                    this.switchToStretch();
                } else if (!this.isWorkTime && this.currentTime >= this.stretchDuration) {
                    this.switchToWork();
                }
                
                this.updateDisplay();
            }
            
            switchToStretch() {
                this.isWorkTime = false;
                this.currentTime = 0;
                this.updateStatus();
                this.showNotification('Time to stretch!', 'Take a 5-minute break to stretch and move around.');
                this.playSound();
                
                if (this.autoStartCheckbox.checked) {
                    this.startTimer();
                } else {
                    this.pauseTimer();
                }
            }
            
            switchToWork() {
                this.isWorkTime = true;
                this.currentTime = 0;
                this.updateStatus();
                this.showNotification('Break time over!', 'Back to work - you\'ve got this!');
                this.playSound();
                
                if (this.autoStartCheckbox.checked) {
                    this.startTimer();
                } else {
                    this.pauseTimer();
                }
            }
            
            updateDisplay() {
                const totalTime = this.isWorkTime ? this.workInterval : this.stretchDuration;
                const remaining = totalTime - this.currentTime;
                
                const minutes = Math.floor(remaining / 60);
                const seconds = remaining % 60;
                
                this.timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Update progress bar
                const progress = (this.currentTime / totalTime) * 100;
                this.progressFill.style.width = `${progress}%`;
            }
            
            updateButtons() {
                if (this.isRunning) {
                    this.startBtn.style.display = 'none';
                    this.pauseBtn.style.display = 'inline-block';
                    this.skipBtn.style.display = 'inline-block';
                } else {
                    this.startBtn.style.display = 'inline-block';
                    this.pauseBtn.style.display = 'none';
                    this.skipBtn.style.display = 'none';
                }
            }
            
            updateStatus() {
                const status = this.isWorkTime ? 'Work Time' : 'Stretch Time';
                const statusClass = this.isWorkTime ? 'status-active' : 'status-paused';
                
                this.statusIndicator.textContent = status;
                this.statusIndicator.className = `status-indicator ${statusClass}`;
            }
            
            updateSettings() {
                this.workInterval = parseInt(this.workIntervalInput.value) * 60;
                this.stretchDuration = parseInt(this.stretchDurationInput.value) * 60;
                
                if (!this.isRunning) {
                    this.updateDisplay();
                }
                
                this.saveSettings();
            }
            
            showNotification(title, body) {
                if (this.notificationsCheckbox.checked && this.desktopCheckbox.checked) {
                    if (Notification.permission === 'granted') {
                        new Notification(title, { body, icon: '/favicon.ico' });
                    } else if (Notification.permission !== 'denied') {
                        Notification.requestPermission().then(permission => {
                            if (permission === 'granted') {
                                new Notification(title, { body, icon: '/favicon.ico' });
                            }
                        });
                    }
                }
            }
            
            playSound() {
                if (this.soundCheckbox.checked) {
                    // Create a simple beep sound
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 800;
                    gainNode.gain.value = 0.1;
                    
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.2);
                }
            }
            
            renderStretches() {
                const stretchGrid = document.getElementById('stretchGrid');
                const stretches = this.getStretchesForType(this.stretchType);
                
                stretchGrid.innerHTML = stretches.map(stretch => `
                    <div class="stretch-card">
                        <div class="stretch-name">${stretch.name}</div>
                        <div class="stretch-description">${stretch.description}</div>
                    </div>
                `).join('');
            }
            
            getStretchesForType(type) {
                const stretchLibrary = {
                    general: [
                        { name: "Arm Circles", description: "Stand with arms extended, make circular motions forward and backward." },
                        { name: "Shoulder Rolls", description: "Roll shoulders forward and backward in circular motions." },
                        { name: "Neck Stretches", description: "Gently tilt head side to side and forward/backward." },
                        { name: "Standing Side Stretch", description: "Raise one arm overhead and lean to the opposite side." },
                        { name: "Hip Circles", description: "Stand with hands on hips, rotate hips in circular motions." },
                        { name: "Ankle Rolls", description: "Lift one foot and rotate ankle clockwise and counterclockwise." }
                    ],
                    office: [
                        { name: "Chair Twists", description: "Sit in chair, twist torso to each side while holding chair back." },
                        { name: "Seated Cat-Cow", description: "Arch and round back while seated, breathing deeply." },
                        { name: "Wrist Flexor Stretch", description: "Extend arm, pull fingers back toward forearm." },
                        { name: "Seated Forward Fold", description: "Sit forward in chair, fold forward from hips." },
                        { name: "Chair Squats", description: "Stand up from chair, sit back down slowly." },
                        { name: "Seated Leg Extensions", description: "Extend legs straight out while seated." }
                    ],
                    neck: [
                        { name: "Chin Tucks", description: "Tuck chin to chest, hold, then lift head back." },
                        { name: "Ear to Shoulder", description: "Tilt head to one side, bringing ear toward shoulder." },
                        { name: "Neck Rotations", description: "Turn head slowly to each side, looking over shoulder." },
                        { name: "Upper Trapezius Stretch", description: "Tilt head diagonally, hold with opposite hand." },
                        { name: "Levator Scapulae Stretch", description: "Tilt head to side and rotate slightly." },
                        { name: "Suboccipital Release", description: "Place fingers at base of skull, gently massage." }
                    ],
                    back: [
                        { name: "Cat-Cow Stretch", description: "On hands and knees, alternate arching and rounding back." },
                        { name: "Child's Pose", description: "Kneel, sit back on heels, fold forward with arms extended." },
                        { name: "Pelvic Tilts", description: "Lie on back, tilt pelvis to flatten lower back." },
                        { name: "Knee to Chest", description: "Lie on back, bring one knee to chest, hold." },
                        { name: "Spinal Twist", description: "Lie on back, rotate knees to one side while keeping shoulders flat." },
                        { name: "Bridge Pose", description: "Lie on back, lift hips while keeping shoulders on ground." }
                    ],
                    legs: [
                        { name: "Standing Quad Stretch", description: "Stand on one leg, bend other knee, hold foot behind." },
                        { name: "Hamstring Stretch", description: "Stand, place foot on elevated surface, lean forward." },
                        { name: "Calf Stretch", description: "Step one foot back, press heel to ground." },
                        { name: "Hip Flexor Stretch", description: "Kneel, step one foot forward, lean into stretch." },
                        { name: "IT Band Stretch", description: "Cross one leg over other, lean to side." },
                        { name: "Glute Stretch", description: "Lie on back, cross ankle over opposite knee, pull toward chest." }
                    ],
                    wrist: [
                        { name: "Wrist Flexor Stretch", description: "Extend arm, pull fingers back toward forearm." },
                        { name: "Wrist Extensor Stretch", description: "Extend arm, pull fingers down toward forearm." },
                        { name: "Finger Spreads", description: "Spread fingers wide, then make fists." },
                        { name: "Thumb Circles", description: "Make circular motions with thumbs." },
                        { name: "Prayer Position", description: "Press palms together, lower wrists toward floor." },
                        { name: "Wrist Circles", description: "Make circular motions with wrists." }
                    ]
                };
                
                return stretchLibrary[type] || stretchLibrary.general;
            }
            
            saveSettings() {
                const settings = {
                    workInterval: this.workIntervalInput.value,
                    stretchDuration: this.stretchDurationInput.value,
                    stretchType: this.stretchTypeSelect.value,
                    autoStart: this.autoStartCheckbox.checked,
                    notifications: this.notificationsCheckbox.checked,
                    sound: this.soundCheckbox.checked,
                    desktop: this.desktopCheckbox.checked
                };
                
                localStorage.setItem('stretchTimerSettings', JSON.stringify(settings));
            }
            
            loadSettings() {
                const saved = localStorage.getItem('stretchTimerSettings');
                if (saved) {
                    const settings = JSON.parse(saved);
                    
                    this.workIntervalInput.value = settings.workInterval || 25;
                    this.stretchDurationInput.value = settings.stretchDuration || 5;
                    this.stretchTypeSelect.value = settings.stretchType || 'general';
                    this.autoStartCheckbox.checked = settings.autoStart !== undefined ? settings.autoStart : false;
                    this.notificationsCheckbox.checked = settings.notifications !== undefined ? settings.notifications : true;
                    this.soundCheckbox.checked = settings.sound !== undefined ? settings.sound : true;
                    this.desktopCheckbox.checked = settings.desktop !== undefined ? settings.desktop : true;
                    
                    this.updateSettings();
                }
            }
        }
        
        // Request notification permission on page load
        document.addEventListener('DOMContentLoaded', () => {
            if (Notification.permission === 'default') {
                Notification.requestPermission();
            }
            
            new StretchTimer();
        });
    </script>
</body>
</html>
